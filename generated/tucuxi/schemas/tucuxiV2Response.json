{
  "properties": {
    "status": { "type": "string", "enum": ["success", "not_found", "error"], "title": "Status" },
    "method": {
      "type": "string",
      "title": "Method",
      "description": "Método que retornou o resultado"
    },
    "confidence": {
      "type": "number",
      "title": "Confidence",
      "description": "Score de confiança final"
    },
    "data": {
      "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
      "title": "Data",
      "description": "Dados do cliente encontrado"
    },
    "response_time": {
      "type": "number",
      "title": "Response Time",
      "description": "Tempo total de resposta em ms"
    },
    "smart_search_score": {
      "anyOf": [{ "type": "number" }, { "type": "null" }],
      "title": "Smart Search Score",
      "description": "Score do Smart Search (se executado)"
    },
    "dna_search_score": {
      "anyOf": [{ "type": "number" }, { "type": "null" }],
      "title": "Dna Search Score",
      "description": "Score do Tucuxi DNA (se executado)"
    },
    "phonetic_validation": {
      "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
      "title": "Phonetic Validation",
      "description": "Detalhes da validação fonética (se CNS usado)"
    },
    "all_scores": {
      "anyOf": [
        {
          "items": {
            "properties": {
              "method": {
                "type": "string",
                "enum": [
                  "cpf_exact",
                  "cns_phonetic",
                  "cns_only",
                  "composite",
                  "name_only",
                  "dna_match"
                ],
                "title": "Method"
              },
              "score": { "type": "number", "maximum": 100, "minimum": 0, "title": "Score" },
              "details": { "additionalProperties": true, "type": "object", "title": "Details" }
            },
            "type": "object",
            "required": ["method", "score"],
            "title": "ConfidenceScore",
            "description": "Score de confiança para cada método",
            "example": {
              "details": {
                "cns_found": true,
                "metaphone_match": true,
                "name_similarity": 0.95,
                "soundex_match": true
              },
              "method": "cns_phonetic",
              "score": 90
            },
            "x-readme-ref-name": "ConfidenceScore"
          },
          "type": "array"
        },
        { "type": "null" }
      ],
      "title": "All Scores",
      "description": "Todos os scores calculados (se solicitado)"
    },
    "reason": {
      "anyOf": [{ "type": "string" }, { "type": "null" }],
      "title": "Reason",
      "description": "Razão para usar DNA (se aplicável)"
    },
    "message": {
      "anyOf": [{ "type": "string" }, { "type": "null" }],
      "title": "Message",
      "description": "Mensagem de status (Status 1/2/3 quando update_db=true)"
    },
    "from_cache": {
      "type": "boolean",
      "title": "From Cache",
      "description": "Se o resultado veio do cache",
      "default": false
    },
    "dna_created": {
      "anyOf": [{ "type": "boolean" }, { "type": "null" }],
      "title": "Dna Created",
      "description": "Se foi criado DNA para este registro"
    },
    "dna_reason": {
      "anyOf": [{ "type": "string" }, { "type": "null" }],
      "title": "Dna Reason",
      "description": "Razão para criação do DNA (no_identifier, random_5_percent, etc)"
    },
    "validation_performed": {
      "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
      "title": "Validation Performed",
      "description": "Informações sobre validações de identificadores realizadas"
    },
    "created_at": { "type": "string", "format": "date-time", "title": "Created At" },
    "version": {
      "type": "string",
      "title": "Version",
      "description": "Versão do Tucuxi",
      "default": "2.0"
    }
  },
  "type": "object",
  "required": ["status", "method", "confidence", "response_time"],
  "title": "TucuxiV2Response",
  "description": "Response do endpoint híbrido Tucuxi v2",
  "example": {
    "confidence": 90,
    "created_at": "2025-01-10T10:30:00",
    "data": {
      "cns": ["123456789012345"],
      "cpf": "12345678901",
      "data_nascimento": "1990-01-01",
      "nome": "JOSE SILVA",
      "nome_mae": "MARIA SILVA",
      "uuid": "123e4567-e89b-12d3-a456-426614174000"
    },
    "method": "cns_phonetic_match",
    "phonetic_validation": {
      "metaphone_match": true,
      "name_similarity": 0.95,
      "soundex_match": true
    },
    "response_time": 15.5,
    "status": "success",
    "version": "2.0"
  },
  "x-readme-ref-name": "TucuxiV2Response"
}
