/**
 * Generated by Kubb (https://kubb.dev/).
 * Do not edit manually.
 */

import { confidenceScoreSchema } from './confidenceScoreSchema'
import { z } from 'zod'

/**
 * @description Response do endpoint híbrido Tucuxi v2
 */
export const tucuxiV2ResponseSchema = z
  .object({
    status: z.enum(['success', 'not_found', 'error']),
    method: z.string().describe('Método que retornou o resultado'),
    confidence: z.number().describe('Score de confiança final'),
    data: z.optional(
      z.union([z.object({}).catchall(z.any()), z.null()]).describe('Dados do cliente encontrado')
    ),
    response_time: z.number().describe('Tempo total de resposta em ms'),
    smart_search_score: z.optional(
      z.union([z.number(), z.null()]).describe('Score do Smart Search (se executado)')
    ),
    dna_search_score: z.optional(
      z.union([z.number(), z.null()]).describe('Score do Tucuxi DNA (se executado)')
    ),
    phonetic_validation: z.optional(
      z
        .union([z.object({}).catchall(z.any()), z.null()])
        .describe('Detalhes da validação fonética (se CNS usado)')
    ),
    all_scores: z.optional(
      z
        .union([
          z.array(
            z.lazy(() => confidenceScoreSchema).describe('Score de confiança para cada método')
          ),
          z.null()
        ])
        .describe('Todos os scores calculados (se solicitado)')
    ),
    reason: z.optional(
      z.union([z.string(), z.null()]).describe('Razão para usar DNA (se aplicável)')
    ),
    message: z.optional(
      z
        .union([z.string(), z.null()])
        .describe('Mensagem de status (Status 1/2/3 quando update_db=true)')
    ),
    from_cache: z.optional(z.boolean().default(false).describe('Se o resultado veio do cache')),
    dna_created: z.optional(
      z.union([z.boolean(), z.null()]).describe('Se foi criado DNA para este registro')
    ),
    dna_reason: z.optional(
      z
        .union([z.string(), z.null()])
        .describe('Razão para criação do DNA (no_identifier, random_5_percent, etc)')
    ),
    validation_performed: z.optional(
      z
        .union([z.object({}).catchall(z.any()), z.null()])
        .describe('Informações sobre validações de identificadores realizadas')
    ),
    created_at: z.optional(z.string().datetime()),
    version: z.optional(z.string().default('2.0').describe('Versão do Tucuxi'))
  })
  .describe('Response do endpoint híbrido Tucuxi v2')
