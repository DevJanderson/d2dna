{
  "openapi": "3.1.0",
  "info": {
    "title": "Tucuxi API",
    "description": "API de processamento utilizando tecnologia em DNA, desenvolvido pela Empresa D2DNA. Para mais informações, visite [D2DNA](https://www.d2dna.com).",
    "contact": {
      "name": "Suporte da API",
      "url": "https://d2dna.com/#contato",
      "email": "deneyaraujo@d2dna.com"
    },
    "version": "1.0.0"
  },
  "paths": {
    "/api/v1/usuarios/login": {
      "post": {
        "tags": ["Usuários"],
        "summary": "Token de acesso",
        "description": "Realiza o login do usuário e retorna um token de acesso.",
        "operationId": "login_json_api_v1_usuarios_login_post",
        "requestBody": {
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/LoginSchema" } }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Token de acesso",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/usuarios/refresh-token": {
      "post": {
        "tags": ["Usuários"],
        "summary": "Refresh token",
        "description": "Renova o token de acesso utilizando o refresh token.",
        "operationId": "refresh_token_api_v1_usuarios_refresh_token_post",
        "parameters": [
          {
            "name": "refresh_token",
            "in": "query",
            "required": true,
            "schema": { "type": "string", "title": "Refresh Token" }
          }
        ],
        "responses": {
          "200": {
            "description": "Novo token de acesso.",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/usuarios/verify-token": {
      "get": {
        "tags": ["Usuários"],
        "summary": "Verificar token",
        "description": "Verifica se o token JWT é válido e retorna as informações do usuário.",
        "operationId": "verify_token_api_v1_usuarios_verify_token_get",
        "responses": {
          "200": {
            "description": "Informações do token e usuário.",
            "content": { "application/json": { "schema": {} } }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/usuarios/signup": {
      "post": {
        "tags": ["Usuários"],
        "summary": "Novo usuário",
        "description": "Cria um novo usuário com os dados fornecidos.",
        "operationId": "post_usuario_api_v1_usuarios_signup_post",
        "requestBody": {
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/UsuarioSchemaCreate" } }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Usuário criado com sucesso.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/UsuarioSchemaBaseWithID" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        },
        "security": [{ "HTTPBearer": [] }]
      }
    },
    "/api/v1/usuarios/reset-password": {
      "post": {
        "tags": ["Usuários"],
        "summary": "Redefinição de senha",
        "description": "Solicita a redefinição de senha para o e-mail fornecido.",
        "operationId": "reset_password_api_v1_usuarios_reset_password_post",
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "required": true,
            "schema": { "type": "string", "title": "Email" }
          }
        ],
        "responses": {
          "200": {
            "description": "E-mail enviado com instruções para redefinição de senha.",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/usuarios/logado": {
      "get": {
        "tags": ["Usuários"],
        "summary": "Usuário logado",
        "description": "Retorna os dados do usuário logado.",
        "operationId": "get_logado_api_v1_usuarios_logado_get",
        "responses": {
          "200": {
            "description": "Dados do usuário logado.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/UsuarioLogadoSchema" }
              }
            }
          }
        },
        "security": [{ "HTTPBearer": [] }]
      }
    },
    "/api/v1/usuarios/": {
      "get": {
        "tags": ["Usuários"],
        "summary": "Buscar usuários",
        "description": "Retorna lista paginada de usuários com filtros.",
        "operationId": "get_usuarios_api_v1_usuarios__get",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Cursor para navegação",
              "title": "Cursor"
            },
            "description": "Cursor para navegação"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "nome",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Filtrar por nome",
              "title": "Nome"
            },
            "description": "Filtrar por nome"
          },
          {
            "name": "email",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Filtrar por email",
              "title": "Email"
            },
            "description": "Filtrar por email"
          },
          {
            "name": "admin",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "boolean" }, { "type": "null" }],
              "description": "Filtrar por administrador",
              "title": "Admin"
            },
            "description": "Filtrar por administrador"
          },
          {
            "name": "ativo",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "boolean" }, { "type": "null" }],
              "description": "Filtrar por ativo",
              "title": "Ativo"
            },
            "description": "Filtrar por ativo"
          },
          {
            "name": "cidade",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Filtrar por cidade",
              "title": "Cidade"
            },
            "description": "Filtrar por cidade"
          },
          {
            "name": "estado",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Filtrar por estado",
              "title": "Estado"
            },
            "description": "Filtrar por estado"
          },
          {
            "name": "funcao",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Filtrar por função",
              "title": "Funcao"
            },
            "description": "Filtrar por função"
          },
          {
            "name": "instituicao",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Filtrar por instituição",
              "title": "Instituicao"
            },
            "description": "Filtrar por instituição"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Busca textual",
              "title": "Search"
            },
            "description": "Busca textual"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de usuários.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/UsuariosPaginadosCursorSchema" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/usuarios/{usuario_id}": {
      "get": {
        "tags": ["Usuários"],
        "summary": "Detalhes do usuário",
        "description": "Retorna os detalhes de um usuário específico.",
        "operationId": "get_usuario_api_v1_usuarios__usuario_id__get",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "usuario_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Usuario Id" }
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes do usuário.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/UsuarioSchemaDetalhes" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Usuários"],
        "summary": "Atualizar usuário",
        "description": "Atualiza os dados de um usuário específico.",
        "operationId": "put_usuario_api_v1_usuarios__usuario_id__put",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "usuario_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Usuario Id" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/UsuarioSchemaUpdate" } }
          }
        },
        "responses": {
          "200": {
            "description": "Usuário atualizado com sucesso.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/UsuarioSchemaBaseWithID" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Usuários"],
        "summary": "Excluir usuário",
        "description": "Exclui fisicamente um usuário do banco de dados.",
        "operationId": "delete_usuario_api_v1_usuarios__usuario_id__delete",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "usuario_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Usuario Id" }
          }
        ],
        "responses": {
          "200": {
            "description": "Usuário excluído com sucesso.",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/usuarios/logout": {
      "post": {
        "tags": ["Usuários"],
        "summary": "Logout",
        "description": "Realiza o logout do usuário.",
        "operationId": "logout_api_v1_usuarios_logout_post",
        "requestBody": {
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/LogoutRequest" } }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Logout realizado com sucesso.",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/usuarios/change-password": {
      "post": {
        "tags": ["Usuários"],
        "summary": "Alterar senha",
        "description": "Altera a senha do usuário autenticado",
        "operationId": "change_password_api_v1_usuarios_change_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ChangePasswordRequest" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Mensagem indicando sucesso na alteração da senha",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/usuarios/{usuario_id}/change-password": {
      "post": {
        "tags": ["Usuários"],
        "summary": "Admin resetar senha",
        "description": "Permite que um administrador resete a senha de um usuário específico",
        "operationId": "admin_reset_user_password_api_v1_usuarios__usuario_id__change_password_post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "usuario_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Usuario Id" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/AdminPasswordReset" } }
          }
        },
        "responses": {
          "200": {
            "description": "Senha resetada com sucesso",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/usuarios/{usuario_id}/status": {
      "patch": {
        "tags": ["Usuários"],
        "summary": "Alterar status do usuário",
        "description": "Altera o status de ativo/inativo de um usuário (soft delete unificado).",
        "operationId": "alterar_status_usuario_api_v1_usuarios__usuario_id__status_patch",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "usuario_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Usuario Id" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/UsuarioStatusUpdate" } }
          }
        },
        "responses": {
          "200": {
            "description": "Status do usuário atualizado com sucesso.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Alterar Status Usuario Api V1 Usuarios  Usuario Id  Status Patch"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/usuarios/{usuario_id}/foto-perfil": {
      "delete": {
        "tags": ["Usuários"],
        "summary": "Remover foto perfil",
        "description": "Remove a foto de perfil do usuário, deletando todos os arquivos de imagem (thumbnails inclusos) e limpando o campo no banco de dados.",
        "operationId": "delete_foto_perfil_api_v1_usuarios__usuario_id__foto_perfil_delete",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "usuario_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Usuario Id" }
          }
        ],
        "responses": {
          "200": {
            "description": "Foto de perfil removida com sucesso.",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Usuários"],
        "summary": "Upload foto perfil",
        "description": "Faz o upload de uma nova foto de perfil para o usuário. Aceita apenas imagens (JPG, PNG, GIF, WebP) até 5MB. Gera automaticamente thumbnails otimizados.",
        "operationId": "upload_foto_perfil_api_v1_usuarios__usuario_id__foto_perfil_post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "usuario_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Usuario Id" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_foto_perfil_api_v1_usuarios__usuario_id__foto_perfil_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Foto de perfil atualizada com sucesso.",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/clientes/": {
      "post": {
        "tags": ["Clientes"],
        "summary": "Cadastrar cliente",
        "description": "Cria um novo cliente na base de dados.",
        "operationId": "create_cliente_api_v1_clientes__post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "duplicate_strategy",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                { "type": "string", "pattern": "^(remove|reject|ask)$" },
                { "type": "null" }
              ],
              "description": "Estratégia para duplicatas: 'remove' (padrão), 'reject' ou 'ask'",
              "title": "Duplicate Strategy"
            },
            "description": "Estratégia para duplicatas: 'remove' (padrão), 'reject' ou 'ask'"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/ClienteSearchGeral" } }
          }
        },
        "responses": {
          "201": {
            "description": "Cliente cadastrado com sucesso.",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "get": {
        "tags": ["Clientes"],
        "summary": "Listar clientes",
        "description": "Retorna uma lista paginada de clientes, permitindo aplicar diversos filtros.",
        "operationId": "list_clientes_api_v1_clientes__get",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Token para navegação entre páginas",
              "title": "Cursor"
            },
            "description": "Token para navegação entre páginas"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 20,
              "description": "Quantidade de registros por página (mínimo 20, máximo 100)",
              "default": 50,
              "title": "Limit"
            },
            "description": "Quantidade de registros por página (mínimo 20, máximo 100)"
          },
          {
            "name": "uuid_cliente",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string", "format": "uuid" }, { "type": "null" }],
              "description": "Filtra os clientes pelo UUID exato.",
              "title": "Uuid Cliente"
            },
            "description": "Filtra os clientes pelo UUID exato."
          },
          {
            "name": "cpf",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Filtra os clientes pelo CPF exato.",
              "title": "Cpf"
            },
            "description": "Filtra os clientes pelo CPF exato."
          },
          {
            "name": "cns",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Filtra os clientes pelo CNS exato.",
              "title": "Cns"
            },
            "description": "Filtra os clientes pelo CNS exato."
          },
          {
            "name": "nome",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Filtra os clientes pelo nome (busca parcial, case-insensitive).",
              "title": "Nome"
            },
            "description": "Filtra os clientes pelo nome (busca parcial, case-insensitive)."
          },
          {
            "name": "nome_mae",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Filtra os clientes pelo nome da mãe (busca parcial, case-insensitive).",
              "title": "Nome Mae"
            },
            "description": "Filtra os clientes pelo nome da mãe (busca parcial, case-insensitive)."
          },
          {
            "name": "data_nascimento",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string", "format": "date" }, { "type": "null" }],
              "description": "Filtra os clientes pela data de nascimento exata.",
              "title": "Data Nascimento"
            },
            "description": "Filtra os clientes pela data de nascimento exata."
          },
          {
            "name": "exact_match",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Se True, busca apenas correspondências exatas (muito mais rápido)",
              "default": false,
              "title": "Exact Match"
            },
            "description": "Se True, busca apenas correspondências exatas (muito mais rápido)"
          },
          {
            "name": "include_details",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Se False, não carrega CNS e detalhes (mais rápido para listagens grandes)",
              "default": true,
              "title": "Include Details"
            },
            "description": "Se False, não carrega CNS e detalhes (mais rápido para listagens grandes)"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de clientes com metadados de paginação",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/clientes/{uuid_cliente}": {
      "put": {
        "tags": ["Clientes"],
        "summary": "Atualizar cliente",
        "description": "Atualiza os dados de um cliente existente.",
        "operationId": "update_cliente_api_v1_clientes__uuid_cliente__put",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "uuid_cliente",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid", "title": "Uuid Cliente" }
          },
          {
            "name": "duplicate_strategy",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                { "type": "string", "pattern": "^(remove|reject|ask)$" },
                { "type": "null" }
              ],
              "description": "Estratégia para duplicatas: 'remove' (padrão), 'reject' ou 'ask'",
              "title": "Duplicate Strategy"
            },
            "description": "Estratégia para duplicatas: 'remove' (padrão), 'reject' ou 'ask'"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/ClienteSchemaUpdate" } }
          }
        },
        "responses": {
          "200": {
            "description": "Cliente atualizado com sucesso.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ClienteSchemaUpdate" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "get": {
        "tags": ["Clientes"],
        "summary": "Busca histórico.",
        "description": "Retorna os dados de um cliente específico, incluindo seus detalhes de endereço/contato (`detalhes`) e CNS adicionais (`cns_list`), com base no UUID fornecido.",
        "operationId": "get_cliente_api_v1_clientes__uuid_cliente__get",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "uuid_cliente",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid", "title": "Uuid Cliente" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ClienteSchemaBaseGeral" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Clientes"],
        "summary": "Deletar cliente",
        "description": "Remove um cliente da base de dados.",
        "operationId": "delete_cliente_api_v1_clientes__uuid_cliente__delete",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "uuid_cliente",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid", "title": "Uuid Cliente" }
          }
        ],
        "responses": {
          "200": {
            "description": "Cliente deletado com sucesso.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ClienteSchemaDelete" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/clientes/{uuid_cliente}/detalhes/{detalhe_id}": {
      "put": {
        "tags": ["Clientes"],
        "summary": "Update Cliente Detalhe",
        "operationId": "update_cliente_detalhe_api_v1_clientes__uuid_cliente__detalhes__detalhe_id__put",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "uuid_cliente",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid", "title": "Uuid Cliente" }
          },
          {
            "name": "detalhe_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Detalhe Id" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ClienteDetalheSchema" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/clientes/{uuid_cliente}/detalhes": {
      "get": {
        "tags": ["Clientes"],
        "summary": "Listar detalhes",
        "operationId": "get_cliente_detalhes_api_v1_clientes__uuid_cliente__detalhes_get",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "uuid_cliente",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid", "title": "Uuid Cliente" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/ClienteDetalheSchema" },
                  "title": "Response Get Cliente Detalhes Api V1 Clientes  Uuid Cliente  Detalhes Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Clientes"],
        "summary": "Adicionar detalhes",
        "operationId": "add_cliente_detalhe_api_v1_clientes__uuid_cliente__detalhes_post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "uuid_cliente",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid", "title": "Uuid Cliente" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ClienteDetalheSchema" }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ClienteDetalheSchema" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/clientes/{uuid_cliente}/cns": {
      "get": {
        "tags": ["Clientes"],
        "summary": "Listar CNS",
        "operationId": "get_cns_cliente_api_v1_clientes__uuid_cliente__cns_get",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "uuid_cliente",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid", "title": "Uuid Cliente" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/ClienteCNSSchema" },
                  "title": "Response Get Cns Cliente Api V1 Clientes  Uuid Cliente  Cns Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Clientes"],
        "summary": "Adicionar CNS",
        "operationId": "add_cliente_cns_api_v1_clientes__uuid_cliente__cns_post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "uuid_cliente",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid", "title": "Uuid Cliente" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/ClienteCNSSchema" } }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ClienteCNSSchema" } }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/historico_cliente/{uuid_cliente}": {
      "get": {
        "tags": ["Histórico de Clientes"],
        "summary": "Listar históricos",
        "description": "Recupera uma lista paginada do histórico de alterações de um cliente especificado pelo UUID.\n\n- Parâmetro `tipo_operacao` (opcional) para filtrar registros (Ex: 1=Inserção, 2=Atualização, 3=Manual).",
        "operationId": "get_cliente_history_api_v1_historico_cliente__uuid_cliente__get",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "uuid_cliente",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid", "title": "Uuid Cliente" }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Token para navegação entre páginas",
              "title": "Cursor"
            },
            "description": "Token para navegação entre páginas"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 20,
              "description": "Quantidade de registros por página (mínimo 20, máximo 100)",
              "default": 50,
              "title": "Limit"
            },
            "description": "Quantidade de registros por página (mínimo 20, máximo 100)"
          },
          {
            "name": "tipo_operacao",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "integer" }, { "type": "null" }],
              "description": "Filtra históricos pelo tipo de operação (1=Inserção, 2=Atualização, 3=Manual).",
              "title": "Tipo Operacao"
            },
            "description": "Filtra históricos pelo tipo de operação (1=Inserção, 2=Atualização, 3=Manual)."
          }
        ],
        "responses": {
          "200": {
            "description": "Retorna históricos com paginação.",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/historico_cliente/": {
      "post": {
        "tags": ["Histórico de Clientes"],
        "summary": "Criar histórico",
        "description": "Cria um novo registro de histórico para um cliente com os dados informados.",
        "operationId": "create_historico_api_v1_historico_cliente__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/HistoricoClienteCreate" }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Retorna o objeto criado, incluindo `historico_id`.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HistoricoClienteResponse" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/historico_cliente/registro/{historico_id}": {
      "get": {
        "tags": ["Histórico de Clientes"],
        "summary": "Buscar histórico",
        "description": "Retorna o registro de histórico identificado pelo `historico_id`.",
        "operationId": "get_historico_api_v1_historico_cliente_registro__historico_id__get",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "historico_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Historico Id" }
          }
        ],
        "responses": {
          "200": {
            "description": "Retorna o objeto completo do histórico.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HistoricoClienteResponse" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Histórico de Clientes"],
        "summary": "Atualizar histórico",
        "description": "Atualiza os dados do histórico. Campos não enviados permanecem inalterados.",
        "operationId": "update_historico_api_v1_historico_cliente_registro__historico_id__put",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "historico_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Historico Id" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/HistoricoClienteUpdate" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Retorna o objeto atualizado.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HistoricoClienteResponse" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Histórico de Clientes"],
        "summary": "Deletar histórico",
        "description": "Remove permanentemente o registro de histórico.",
        "operationId": "delete_historico_api_v1_historico_cliente_registro__historico_id__delete",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "historico_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Historico Id" }
          }
        ],
        "responses": {
          "204": { "description": "Successful Response" },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/historico_cliente/{uuid_cliente}/ultimo": {
      "get": {
        "tags": ["Histórico de Clientes"],
        "summary": "Buscar último histórico",
        "description": "Busca o registro mais recente do histórico do cliente pelo UUID.",
        "operationId": "get_ultimo_historico_api_v1_historico_cliente__uuid_cliente__ultimo_get",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "uuid_cliente",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "title": "Uuid Cliente" }
          }
        ],
        "responses": {
          "200": {
            "description": "Último registro do histórico do cliente.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HistoricoClienteResponse" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/review/": {
      "get": {
        "tags": ["Review & Qualidade de Dados"],
        "summary": "Listar clientes em revisão",
        "description": "Retorna uma lista paginada de clientes com review=True. Otimizado para grandes volumes de dados.",
        "operationId": "list_clientes_review_cursor_api_v1_review__get",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Cursor para continuar de onde parou",
              "title": "Cursor"
            },
            "description": "Cursor para continuar de onde parou"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Ordenação: 'desc' para mais recente (default), 'asc' para mais antigo.",
              "default": "desc",
              "title": "Order"
            },
            "description": "Ordenação: 'desc' para mais recente (default), 'asc' para mais antigo."
          },
          {
            "name": "uuid_cliente",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string", "format": "uuid" }, { "type": "null" }],
              "description": "Filtra os clientes pelo UUID exato.",
              "title": "Uuid Cliente"
            },
            "description": "Filtra os clientes pelo UUID exato."
          },
          {
            "name": "cpf",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Filtra os clientes pelo CPF exato.",
              "title": "Cpf"
            },
            "description": "Filtra os clientes pelo CPF exato."
          },
          {
            "name": "cns",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Filtra os clientes pelo CNS exato.",
              "title": "Cns"
            },
            "description": "Filtra os clientes pelo CNS exato."
          },
          {
            "name": "nome",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Filtra os clientes pelo nome (busca parcial, case-insensitive). ",
              "title": "Nome"
            },
            "description": "Filtra os clientes pelo nome (busca parcial, case-insensitive). "
          },
          {
            "name": "nome_mae",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Filtra os clientes pelo nome da mãe (busca parcial, case-insensitive). ",
              "title": "Nome Mae"
            },
            "description": "Filtra os clientes pelo nome da mãe (busca parcial, case-insensitive). "
          },
          {
            "name": "data_nascimento",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string", "format": "date" }, { "type": "null" }],
              "description": "Filtra os clientes pela data de nascimento exata.",
              "title": "Data Nascimento"
            },
            "description": "Filtra os clientes pela data de nascimento exata."
          }
        ],
        "responses": {
          "200": {
            "description": "Retorna os dados de clientes em revisão com paginação.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PaginatedResponse_ReviewSchema_" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/review/registro": {
      "post": {
        "tags": ["Review & Qualidade de Dados"],
        "summary": "Registrar revisão",
        "description": "Registra uma nova revisão para um cliente.",
        "operationId": "registrar_revisao_api_v1_review_registro_post",
        "requestBody": {
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/ReviewCreateSchema" } }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Revisão registrada com sucesso.",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ReviewSchema" } }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/review/relatorio": {
      "get": {
        "tags": ["Review & Qualidade de Dados"],
        "summary": "Relatório de revisões",
        "description": "Retorna um relatório de revisões com paginação. Otimizado para grandes volumes.",
        "operationId": "relatorio_revisoes_cursor_api_v1_review_relatorio_get",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cursor" }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "default": 50, "title": "Limit" }
          },
          {
            "name": "id_revisor",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "integer" }, { "type": "null" }],
              "title": "Id Revisor"
            }
          },
          {
            "name": "tipo_revisao",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string" }, { "type": "null" }],
              "title": "Tipo Revisao"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Status" }
          },
          {
            "name": "data_inicio",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string", "format": "date-time" }, { "type": "null" }],
              "title": "Data Inicio"
            }
          },
          {
            "name": "data_fim",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "string", "format": "date-time" }, { "type": "null" }],
              "title": "Data Fim"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Retorna um relatório de revisões com paginação.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedResponse_ReviewRelatorioSchema_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/review/historico/{uuid_cliente}": {
      "get": {
        "tags": ["Review & Qualidade de Dados"],
        "summary": "Histórico de revisões do cliente",
        "description": "Retorna o histórico de revisões de um cliente com paginação.",
        "operationId": "historico_revisoes_cliente_cursor_api_v1_review_historico__uuid_cliente__get",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "uuid_cliente",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid", "title": "Uuid Cliente" }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cursor" }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "default": 50, "title": "Limit" }
          }
        ],
        "responses": {
          "200": {
            "description": "Retorna o histórico com paginação.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PaginatedResponse_ReviewSchema_" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/review/estatisticas": {
      "get": {
        "tags": ["Review & Qualidade de Dados"],
        "summary": "Estatísticas de revisão",
        "description": "Retorna estatísticas agregadas de revisão.",
        "operationId": "estatisticas_revisao_api_v1_review_estatisticas_get",
        "responses": {
          "200": {
            "description": "Retorna estatísticas agregadas de revisão.",
            "content": { "application/json": { "schema": {} } }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/review/reverter/{id_revisao}": {
      "post": {
        "tags": ["Review & Qualidade de Dados"],
        "summary": "Reverter revisão",
        "description": "Reverte uma revisão para o estado anterior.",
        "operationId": "reverter_revisao_api_v1_review_reverter__id_revisao__post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "id_revisao",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Id Revisao" }
          }
        ],
        "responses": {
          "200": {
            "description": "Reverte uma revisão para o estado anterior.",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/review/cns/analise-qualidade": {
      "get": {
        "tags": ["Review & Qualidade de Dados"],
        "summary": "Análise de qualidade dos dados de CNS",
        "description": "Mostra o panorama completo da qualidade dos dados de CNS no sistema.\n    \n    **Informações retornadas:**\n    - Total de clientes com múltiplos CNS\n    - Clientes sem CNS principal definido\n    - Top 10 CNS mais utilizados\n    - Distribuição de uso dos CNS\n    - Recomendações de manutenção\n    \n    **Quando usar:**\n    - Para diagnosticar problemas de qualidade de dados\n    - Antes de executar correções em massa\n    - Monitoramento periódico da saúde dos dados\n    \n    **Exemplo de problema detectado:**\n    Se há 8.500 clientes sem CNS principal definido, o sistema recomendará\n    executar o endpoint de correção automática.",
        "operationId": "analise_qualidade_cns_api_v1_review_cns_analise_qualidade_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/review/cns/definir-master-auto": {
      "post": {
        "tags": ["Review & Qualidade de Dados"],
        "summary": "Definir CNS principal automaticamente para todos",
        "description": "Define automaticamente o CNS principal para TODOS os clientes com múltiplos CNS.\n    \n    **Como funciona:**\n    1. Identifica todos os clientes com múltiplos CNS\n    2. Para cada cliente, analisa qual CNS foi mais usado (frequency_count)\n    3. Define o CNS mais usado como principal (is_master = true)\n    4. Remove a marcação de principal dos outros CNS\n    \n    **Exemplo prático:**\n    - João tem 3 CNS: A (usado 45x), B (usado 2x), C (usado 1x)\n    - Este endpoint marcará automaticamente o CNS A como principal\n    \n    **Quando executar:**\n    - Semanalmente como rotina de manutenção\n    - Após importação de dados em massa\n    - Quando análise de qualidade mostrar muitos clientes sem CNS principal\n    \n    **Importante:** Esta operação pode levar alguns segundos em bases grandes.",
        "operationId": "definir_master_auto_api_v1_review_cns_definir_master_auto_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/review/cns/definir-master/{uuid_cliente}": {
      "post": {
        "tags": ["Review & Qualidade de Dados"],
        "summary": "Definir CNS principal para cliente específico",
        "description": "Define o CNS principal para um cliente específico baseado na frequência de uso.\n    \n    **Como funciona:**\n    1. Busca todos os CNS do cliente\n    2. Identifica qual foi mais usado\n    3. Define como principal\n    \n    **Quando usar:**\n    - Correção pontual após reclamação de cliente\n    - Quando identificado problema específico\n    - Testes e validações\n    \n    **Exemplo:**\n    Cliente reclama que sistema está usando CNS antigo.\n    Este endpoint corrige automaticamente para usar o CNS mais frequente.",
        "operationId": "definir_master_cliente_api_v1_review_cns_definir_master__uuid_cliente__post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "uuid_cliente",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid", "title": "Uuid Cliente" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/linkage/tucuxi": {
      "post": {
        "tags": ["Linkage"],
        "summary": "Buscar cliente [tucuxi-dna]",
        "description": "Realiza uma busca detalhada por cliente utilizando informações como nome, nome do titular, sexo, data nascimento e/ou CPF.              Método poderoso de linkage para casos complexos usando similaridade genômica.",
        "operationId": "search_cliente_tucuxi_api_v1_linkage_tucuxi_post",
        "requestBody": {
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/ClienteSearch" } }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Cliente encontrado com os critérios especificados.",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/linkage/smart-search": {
      "post": {
        "tags": ["Linkage"],
        "summary": "Busca inteligente de linkage",
        "description": "Busca inteligente usando SmartQueryBuilder que seleciona automaticamente a melhor estratégia",
        "operationId": "smart_search_api_v1_linkage_smart_search_post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "x-linkage-strategy",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^(DIRECT_CPF|CNS_OPTIMIZED|COMPOSITE_INDEX|PARTIAL_MATCH|MINIMAL_DATA)$"
                },
                { "type": "null" }
              ],
              "description": "Força uso de estratégia específica",
              "title": "X-Linkage-Strategy"
            },
            "description": "Força uso de estratégia específica"
          },
          {
            "name": "x-include-debug",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "boolean" }, { "type": "null" }],
              "description": "Incluir informações de debug",
              "default": false,
              "title": "X-Include-Debug"
            },
            "description": "Incluir informações de debug"
          },
          {
            "name": "x-max-results",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "integer", "maximum": 1000, "minimum": 1 }, { "type": "null" }],
              "description": "Número máximo de resultados",
              "default": 100,
              "title": "X-Max-Results"
            },
            "description": "Número máximo de resultados"
          },
          {
            "name": "x-use-cache",
            "in": "header",
            "required": false,
            "schema": {
              "anyOf": [{ "type": "boolean" }, { "type": "null" }],
              "description": "Usar cache se disponível",
              "default": true,
              "title": "X-Use-Cache"
            },
            "description": "Usar cache se disponível"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/SmartSearchRequest" } }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/SmartSearchResponse" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/linkage/analyze-data": {
      "post": {
        "tags": ["Linkage"],
        "summary": "Analisar qualidade dos dados",
        "description": "Analisa a qualidade dos dados fornecidos e sugere melhorias",
        "operationId": "analyze_data_quality_api_v1_linkage_analyze_data_post",
        "requestBody": {
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/SmartSearchRequest" } }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/DataQualityAnalysis" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/linkage/batch": {
      "post": {
        "tags": ["Linkage"],
        "summary": "Processamento em lote",
        "description": "Processa múltiplos registros de uma vez",
        "operationId": "batch_processing_api_v1_linkage_batch_post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "x-parallel",
            "in": "header",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Processar em paralelo",
              "default": true,
              "title": "X-Parallel"
            },
            "description": "Processar em paralelo"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "type": "object", "additionalProperties": true, "title": "Request" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/linkage/check-duplicates": {
      "post": {
        "tags": ["Linkage"],
        "summary": "Verificar duplicatas",
        "description": "Verifica possíveis duplicatas antes de inserir",
        "operationId": "check_duplicates_api_v1_linkage_check_duplicates_post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "description": "Limiar de similaridade (0.0-1.0)",
              "default": 0.85,
              "title": "Threshold"
            },
            "description": "Limiar de similaridade (0.0-1.0)"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/SmartSearchRequest" } }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/linkage/resolve-homonyms": {
      "post": {
        "tags": ["Linkage"],
        "summary": "Resolver homônimos",
        "description": "Resolve homônimos usando endereço (não implementado)",
        "operationId": "resolve_homonyms_api_v1_linkage_resolve_homonyms_post",
        "responses": {
          "501": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          }
        }
      }
    },
    "/api/v1/linkage/deterministic/cpf/{cpf}": {
      "get": {
        "tags": ["Linkage"],
        "summary": "Busca determinística por CPF",
        "description": "Busca exata por CPF usando índice único, aceita múltiplos formatos",
        "operationId": "get_by_cpf_api_v1_linkage_deterministic_cpf__cpf__get",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "cpf",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "title": "Cpf" }
          },
          {
            "name": "validate_first",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Validar CPF antes da busca",
              "default": true,
              "title": "Validate First"
            },
            "description": "Validar CPF antes da busca"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ClienteSchemaBaseGeral" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/linkage/deterministic/cns/{cns}": {
      "get": {
        "tags": ["Linkage"],
        "summary": "Busca determinística por CNS",
        "description": "Busca exata por CNS único, retorna o cliente associado",
        "operationId": "get_by_cns_api_v1_linkage_deterministic_cns__cns__get",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "cns",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "title": "Cns" }
          },
          {
            "name": "validate_first",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Validar CNS antes da busca",
              "default": true,
              "title": "Validate First"
            },
            "description": "Validar CNS antes da busca"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ClienteSchemaBaseGeral" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/linkage/deterministic/multi-cns": {
      "post": {
        "tags": ["Linkage"],
        "summary": "Busca por múltiplos CNS",
        "description": "Busca determinística por múltiplos CNS com validação",
        "operationId": "search_multi_cns_api_v1_linkage_deterministic_multi_cns_post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "validate_all",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Validar todos CNS antes da busca",
              "default": true,
              "title": "Validate All"
            },
            "description": "Validar todos CNS antes da busca"
          },
          {
            "name": "include_invalid",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Incluir CNS inválidos nos resultados",
              "default": false,
              "title": "Include Invalid"
            },
            "description": "Incluir CNS inválidos nos resultados"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "type": "array", "items": { "type": "string" }, "title": "Cns List" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/linkage/deterministic/cliente/{uuid_cliente}/cns": {
      "get": {
        "tags": ["Linkage"],
        "summary": "Lista todos CNS de um cliente",
        "description": "Retorna todos os CNS associados a um cliente específico",
        "operationId": "get_cliente_cns_list_api_v1_linkage_deterministic_cliente__uuid_cliente__cns_get",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "uuid_cliente",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "title": "Uuid Cliente" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/linkage/deterministic/composite": {
      "post": {
        "tags": ["Linkage"],
        "summary": "Busca determinística composta",
        "description": "Busca usando combinações exatas ou fonéticas de campos",
        "operationId": "search_composite_api_v1_linkage_deterministic_composite_post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "use_phonetic",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Usar busca fonética para nomes",
              "default": false,
              "title": "Use Phonetic"
            },
            "description": "Usar busca fonética para nomes"
          },
          {
            "name": "validate_documents",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Validar CPF/CNS antes da busca",
              "default": true,
              "title": "Validate Documents"
            },
            "description": "Validar CPF/CNS antes da busca"
          },
          {
            "name": "strict_mode",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Modo estrito (AND) ou flexível (OR)",
              "default": true,
              "title": "Strict Mode"
            },
            "description": "Modo estrito (AND) ou flexível (OR)"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/CompositeSearchRequest" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CompositeSearchResponse" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/linkage/probabilistic/phonetic": {
      "post": {
        "tags": ["Linkage"],
        "summary": "Busca fonética probabilística",
        "description": "Busca usando algoritmos fonéticos (soundex/metaphone) com tolerância a erros",
        "operationId": "search_phonetic_api_v1_linkage_probabilistic_phonetic_post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "algorithm",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^(soundex|metaphone|both)$",
              "description": "soundex, metaphone, or both",
              "default": "both",
              "title": "Algorithm"
            },
            "description": "soundex, metaphone, or both"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "Limite de resultados",
              "default": 50,
              "title": "Limit"
            },
            "description": "Limite de resultados"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/PhoneticSearchRequest" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PhoneticSearchResponse" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/linkage/strategies": {
      "get": {
        "tags": ["Linkage"],
        "summary": "Lista estratégias disponíveis",
        "description": "Retorna todas as estratégias de linkage disponíveis",
        "operationId": "get_strategies_api_v1_linkage_strategies_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/linkage/validation/cpf": {
      "post": {
        "tags": ["Linkage"],
        "summary": "Valida CPF",
        "description": "Valida e formata CPF brasileiro com verificações avançadas",
        "operationId": "validate_cpf_api_v1_linkage_validation_cpf_post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "cpf",
            "in": "query",
            "required": true,
            "schema": { "type": "string", "title": "Cpf" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/linkage/probabilistic/date-tolerance": {
      "post": {
        "tags": ["Linkage"],
        "summary": "Busca com tolerância de data",
        "description": "Busca inteligente com tolerância de data e detecção de erros comuns",
        "operationId": "search_date_tolerance_api_v1_linkage_probabilistic_date_tolerance_post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "tolerance_days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 365,
              "minimum": 0,
              "description": "Tolerância em dias (0-365)",
              "default": 3,
              "title": "Tolerance Days"
            },
            "description": "Tolerância em dias (0-365)"
          },
          {
            "name": "check_common_errors",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Verificar erros comuns de digitação",
              "default": true,
              "title": "Check Common Errors"
            },
            "description": "Verificar erros comuns de digitação"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/DateToleranceSearchRequest" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/DateToleranceResponse" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/linkage/validation/cns": {
      "post": {
        "tags": ["Linkage"],
        "summary": "Valida CNS",
        "description": "Valida Cartão Nacional de Saúde (definitivo ou provisório) com verificações avançadas",
        "operationId": "validate_cns_api_v1_linkage_validation_cns_post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "cns",
            "in": "query",
            "required": true,
            "schema": { "type": "string", "title": "Cns" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/linkage/validation/batch": {
      "post": {
        "tags": ["Linkage"],
        "summary": "Valida múltiplos documentos",
        "description": "Valida CPFs, CNS e outros documentos em lote",
        "operationId": "validate_batch_api_v1_linkage_validation_batch_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "items": { "additionalProperties": { "type": "string" }, "type": "object" },
                "type": "array",
                "title": "Documents"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/linkage/metrics": {
      "get": {
        "tags": ["Linkage"],
        "summary": "Métricas de linkage",
        "description": "Retorna métricas sobre o sistema de linkage",
        "operationId": "get_metrics_api_v1_linkage_metrics_get",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Período: today, week, month, all",
              "default": "today",
              "title": "Period"
            },
            "description": "Período: today, week, month, all"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/linkage/explain": {
      "post": {
        "tags": ["Linkage"],
        "summary": "Explica estratégia de busca",
        "description": "Explica como uma busca seria executada sem executá-la",
        "operationId": "explain_search_api_v1_linkage_explain_post",
        "requestBody": {
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/SmartSearchRequest" } }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/linkage/statistics/field-quality": {
      "get": {
        "tags": ["Linkage"],
        "summary": "Estatísticas de qualidade dos campos",
        "description": "Retorna estatísticas sobre a qualidade dos campos no banco",
        "operationId": "get_field_quality_statistics_api_v1_linkage_statistics_field_quality_get",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "sample_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Tamanho da amostra para análise",
              "default": 1000,
              "title": "Sample Size"
            },
            "description": "Tamanho da amostra para análise"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/metrics/fasta/metrics": {
      "get": {
        "tags": ["Métricas FASTA"],
        "summary": "Métricas do sistema FASTA",
        "description": "Retorna métricas detalhadas do buffer assíncrono e otimizador de busca",
        "operationId": "get_fasta_metrics_api_v1_metrics_fasta_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Fasta Metrics Api V1 Metrics Fasta Metrics Get"
                }
              }
            }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/metrics/fasta/performance": {
      "get": {
        "tags": ["Métricas FASTA"],
        "summary": "Métricas de performance FASTA",
        "description": "Retorna análise de performance das otimizações",
        "operationId": "get_performance_metrics_api_v1_metrics_fasta_performance_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Performance Metrics Api V1 Metrics Fasta Performance Get"
                }
              }
            }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/metrics/fasta/reset-metrics": {
      "post": {
        "tags": ["Métricas FASTA"],
        "summary": "Reset métricas FASTA",
        "description": "Reseta contadores de métricas (admin only)",
        "operationId": "reset_metrics_api_v1_metrics_fasta_reset_metrics_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": { "type": "string" },
                  "type": "object",
                  "title": "Response Reset Metrics Api V1 Metrics Fasta Reset Metrics Post"
                }
              }
            }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/metrics/fasta/distribution": {
      "get": {
        "tags": ["Métricas FASTA"],
        "summary": "Distribuição de índices FASTA",
        "description": "Mostra como os dados estão distribuídos entre os índices",
        "operationId": "get_index_distribution_api_v1_metrics_fasta_distribution_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Get Index Distribution Api V1 Metrics Fasta Distribution Get"
                }
              }
            }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/v2/search": {
      "post": {
        "tags": ["Tucuxi v2"],
        "summary": "Tucuxi v2 - Busca Híbrida Inteligente",
        "description": "Endpoint híbrido v3 com validação robusta de identificadores.\n    \n    **Novo Fluxo de Busca:**\n    1. **Validação de Identificadores**: Remove CPF/CNS inválidos automaticamente\n    2. **Busca por CPF com validação de nome**: \n       - Seeds fonéticos coincidem → 100% confiança\n       - Nome similar (>70%) → 80-90% confiança\n       - Nome muito diferente → Continua busca (evita CPF trocado)\n    3. **Busca por CNS com validação de nome**: CNS válidos + match de nome → Retorna (90%+ confiança)\n    4. **Smart Search Score**: Score > 95% → Retorna e atualiza CNS se necessário\n    5. **Criação inteligente**: Com/sem DNA baseado em validações e conflitos\n    \n    **Regras de criação de DNA (Sistema Automático):**\n    - Sem CPF e sem CNS → SEMPRE com DNA\n    - Com identificadores + score médio (70-95%) → Com DNA (possível duplicata)\n    - Com identificadores válidos + score baixo → Sem DNA (95% dos casos)\n\n    **Validações automáticas:**\n    - CPF: Remove inválidos (dígitos repetidos, verificadores incorretos)\n    - CNS: Remove inválidos (tamanho incorreto, checksum inválido)\n    - CNS múltiplos: Processa strings separadas por ';'\n\n    **Parâmetros de controle:**\n    - `update_db`: Atualizar/criar registros no banco\n    - `confidence_threshold`: Não usado nesta versão (mantido para compatibilidade)",
        "operationId": "tucuxi_v2_search_api_v1_v2_search_post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "duplicate_strategy",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                { "type": "string", "pattern": "^(remove|reject|ask)$" },
                { "type": "null" }
              ],
              "description": "Estratégia para duplicatas: 'remove' (padrão), 'reject' ou 'ask'",
              "title": "Duplicate Strategy"
            },
            "description": "Estratégia para duplicatas: 'remove' (padrão), 'reject' ou 'ask'"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/TucuxiV2Request" } }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/TucuxiV2Response" } }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/v2/health": {
      "get": {
        "tags": ["Tucuxi v2"],
        "summary": "Health check do Tucuxi v2",
        "description": "Verifica se o serviço está operacional",
        "operationId": "health_check_api_v1_v2_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          }
        }
      }
    },
    "/api/v1/v2/strategies": {
      "get": {
        "tags": ["Tucuxi v2"],
        "summary": "Listar estratégias disponíveis",
        "description": "Retorna as estratégias de busca disponíveis no Tucuxi v2",
        "operationId": "list_strategies_api_v1_v2_strategies_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          }
        }
      }
    },
    "/api/v1/v2/cache/stats": {
      "get": {
        "tags": ["Tucuxi v2"],
        "summary": "Estatísticas do cache",
        "description": "Retorna estatísticas de uso do cache do Tucuxi v2",
        "operationId": "cache_stats_api_v1_v2_cache_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/v2/cache/clear": {
      "post": {
        "tags": ["Tucuxi v2"],
        "summary": "Limpar cache",
        "description": "Invalida todas as entradas do cache (requer autenticação)",
        "operationId": "clear_cache_api_v1_v2_cache_clear_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/v2/circuit-breaker/stats": {
      "get": {
        "tags": ["Tucuxi v2"],
        "summary": "Estatísticas dos Circuit Breakers",
        "description": "Retorna estatísticas de todos os circuit breakers do sistema",
        "operationId": "circuit_breaker_stats_api_v1_v2_circuit_breaker_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/v2/circuit-breaker/reset": {
      "post": {
        "tags": ["Tucuxi v2"],
        "summary": "Reset Circuit Breakers",
        "description": "Força reset de todos os circuit breakers (requer autenticação)",
        "operationId": "reset_circuit_breakers_api_v1_v2_circuit_breaker_reset_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          }
        },
        "security": [{ "OAuth2PasswordBearer": [] }]
      }
    },
    "/api/v1/v2/circuit-breaker/{circuit_name}/reset": {
      "post": {
        "tags": ["Tucuxi v2"],
        "summary": "Reset Circuit Breaker Específico",
        "description": "Força reset de um circuit breaker específico",
        "operationId": "reset_specific_circuit_breaker_api_v1_v2_circuit_breaker__circuit_name__reset_post",
        "security": [{ "OAuth2PasswordBearer": [] }],
        "parameters": [
          {
            "name": "circuit_name",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "title": "Circuit Name" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AdminPasswordReset": {
        "properties": {
          "new_password": {
            "type": "string",
            "minLength": 8,
            "title": "New Password",
            "description": "Nova senha para o usuário"
          }
        },
        "type": "object",
        "required": ["new_password"],
        "title": "AdminPasswordReset"
      },
      "Body_upload_foto_perfil_api_v1_usuarios__usuario_id__foto_perfil_post": {
        "properties": { "file": { "type": "string", "format": "binary", "title": "File" } },
        "type": "object",
        "required": ["file"],
        "title": "Body_upload_foto_perfil_api_v1_usuarios__usuario_id__foto_perfil_post"
      },
      "ChangePasswordRequest": {
        "properties": {
          "active_password": {
            "type": "string",
            "minLength": 6,
            "title": "Active Password",
            "description": "Senha atual do usuário"
          },
          "new_password": {
            "type": "string",
            "minLength": 6,
            "title": "New Password",
            "description": "Nova senha que será definida"
          }
        },
        "type": "object",
        "required": ["active_password", "new_password"],
        "title": "ChangePasswordRequest"
      },
      "ClienteCNSSchema": {
        "properties": {
          "cns": {
            "type": "string",
            "title": "Cns",
            "description": "CNS adicional do cliente (15 dígitos)",
            "example": "123456789012345"
          },
          "is_master": {
            "type": "boolean",
            "title": "Is Master",
            "description": "Define se este é o CNS principal alternativo",
            "default": false
          }
        },
        "type": "object",
        "required": ["cns"],
        "title": "ClienteCNSSchema"
      },
      "ClienteDetalheSchema": {
        "properties": {
          "id": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Id",
            "description": "ID do detalhe",
            "example": 1
          },
          "telefone": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Telefone",
            "description": "Telefone do cliente",
            "example": "(99) 99999-9999"
          },
          "email": {
            "anyOf": [
              { "type": "string", "format": "email" },
              { "type": "string" },
              { "type": "null" }
            ],
            "title": "Email",
            "description": "E-mail do cliente",
            "example": "cliente@exemplo.com"
          },
          "cep": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cep",
            "description": "CEP do endereço",
            "example": "41234-123"
          },
          "estado": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Estado",
            "description": "Estado (UF)",
            "example": "BA"
          },
          "cidade": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cidade",
            "description": "Cidade",
            "example": "Salvador"
          },
          "bairro": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Bairro",
            "description": "Bairro",
            "example": "Pituba"
          },
          "logradouro": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Logradouro",
            "description": "Rua ou avenida",
            "example": "Av. ACM"
          },
          "numero": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Numero",
            "description": "Número do endereço",
            "example": "123"
          },
          "complemento": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Complemento",
            "description": "Complemento",
            "example": "Apto 101"
          },
          "principal": {
            "anyOf": [{ "type": "boolean" }, { "type": "null" }],
            "title": "Principal",
            "description": "Se é o contato/endereço principal",
            "default": true
          }
        },
        "type": "object",
        "title": "ClienteDetalheSchema"
      },
      "ClienteSchemaBaseGeral": {
        "properties": {
          "id": { "anyOf": [{ "type": "integer" }, { "type": "null" }], "title": "Id" },
          "uuid_cliente": {
            "anyOf": [{ "type": "string", "format": "uuid" }, { "type": "null" }],
            "title": "Uuid Cliente"
          },
          "nome": { "type": "string", "title": "Nome", "example": "João Silva Santos" },
          "data_nascimento": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Data Nascimento",
            "example": "1998-12-08"
          },
          "sexo": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Sexo",
            "example": "M"
          },
          "nome_mae": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Nome Mae",
            "example": "Maria Pereira Santos"
          },
          "cpf": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cpf",
            "example": "12345678901"
          },
          "cns": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cns",
            "example": "000012345678901"
          },
          "origem": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Origem",
            "default": 1,
            "example": 1
          },
          "id_origem": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Id Origem"
          },
          "cns_list": {
            "anyOf": [
              { "items": { "$ref": "#/components/schemas/ClienteCNSSchema" }, "type": "array" },
              { "type": "null" }
            ],
            "title": "Cns List",
            "default": []
          },
          "detalhes": {
            "anyOf": [
              { "items": { "$ref": "#/components/schemas/ClienteDetalheSchema" }, "type": "array" },
              { "type": "null" }
            ],
            "title": "Detalhes",
            "default": []
          }
        },
        "type": "object",
        "required": ["nome"],
        "title": "ClienteSchemaBaseGeral"
      },
      "ClienteSchemaDelete": {
        "properties": {
          "message": { "type": "string", "title": "Message" },
          "uuid_cliente": { "type": "string", "format": "uuid", "title": "Uuid Cliente" }
        },
        "type": "object",
        "required": ["message", "uuid_cliente"],
        "title": "ClienteSchemaDelete"
      },
      "ClienteSchemaUpdate": {
        "properties": {
          "uuid_cliente": {
            "anyOf": [{ "type": "string", "format": "uuid" }, { "type": "null" }],
            "title": "Uuid Cliente"
          },
          "nome": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Nome" },
          "data_nascimento": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Data Nascimento"
          },
          "sexo": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Sexo" },
          "nome_mae": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Nome Mae" },
          "cpf": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cpf" },
          "cns": {
            "anyOf": [
              { "items": { "type": "string" }, "type": "array" },
              { "type": "string" },
              { "type": "null" }
            ],
            "title": "Cns"
          },
          "origem": { "anyOf": [{ "type": "integer" }, { "type": "null" }], "title": "Origem" },
          "id_origem": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Id Origem"
          },
          "telefone": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Telefone" },
          "email": {
            "anyOf": [{ "type": "string", "format": "email" }, { "type": "null" }],
            "title": "Email"
          },
          "cep": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cep" },
          "estado": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Estado" },
          "cidade": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cidade" },
          "bairro": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Bairro" },
          "logradouro": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Logradouro"
          },
          "numero": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Numero" },
          "complemento": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Complemento"
          }
        },
        "type": "object",
        "title": "ClienteSchemaUpdate"
      },
      "ClienteSearch": {
        "properties": {
          "nome": { "type": "string", "title": "Nome" },
          "data_nascimento": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Data Nascimento"
          },
          "sexo": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Sexo" },
          "nome_mae": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Nome Mae" },
          "cpf": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cpf" },
          "cns": {
            "anyOf": [
              { "items": { "type": "string" }, "type": "array" },
              { "type": "string" },
              { "type": "null" }
            ],
            "title": "Cns"
          },
          "cns_list": {
            "anyOf": [{ "items": { "type": "string" }, "type": "array" }, { "type": "null" }],
            "title": "Cns List"
          },
          "origem": {
            "type": "integer",
            "title": "Origem",
            "description": "Origem do registro (1=padrão)",
            "default": 1,
            "example": 1
          },
          "id_origem": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Id Origem"
          },
          "update_db": {
            "type": "boolean",
            "title": "Update Db",
            "description": "Se True, segue lógica de inserir/atualizar/histórico. Se False, apenas busca.",
            "default": true,
            "example": true
          },
          "uuid_cliente": {
            "anyOf": [{ "type": "string", "format": "uuid" }, { "type": "null" }],
            "title": "Uuid Cliente"
          },
          "review": {
            "anyOf": [{ "type": "boolean" }, { "type": "null" }],
            "title": "Review",
            "default": false
          },
          "obs_review": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Obs Review"
          },
          "telefone": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Telefone" },
          "email": {
            "anyOf": [{ "type": "string", "format": "email" }, { "type": "null" }],
            "title": "Email"
          },
          "cep": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cep" },
          "estado": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Estado" },
          "cidade": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cidade" },
          "bairro": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Bairro" },
          "logradouro": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Logradouro"
          },
          "numero": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Numero" },
          "complemento": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Complemento"
          },
          "descricao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Descricao",
            "description": "Descrição do atendimento."
          },
          "data_atendimento": {
            "anyOf": [{ "type": "string", "format": "date-time" }, { "type": "null" }],
            "title": "Data Atendimento",
            "description": "Data do histórico. Se não informada, será usada a data atual."
          }
        },
        "type": "object",
        "required": ["nome"],
        "title": "ClienteSearch",
        "description": "Schema unificado para busca e criação de clientes.\nOtimizado para 27M+ registros - contém apenas campos essenciais.\nCampos de endereço e histórico movidos para schemas separados."
      },
      "ClienteSearchGeral": {
        "properties": {
          "nome": { "type": "string", "title": "Nome" },
          "data_nascimento": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Data Nascimento"
          },
          "sexo": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Sexo" },
          "nome_mae": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Nome Mae" },
          "cpf": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cpf" },
          "cns": {
            "anyOf": [
              { "items": { "type": "string" }, "type": "array" },
              { "type": "string" },
              { "type": "null" }
            ],
            "title": "Cns"
          },
          "cns_list": {
            "anyOf": [{ "items": { "type": "string" }, "type": "array" }, { "type": "null" }],
            "title": "Cns List"
          },
          "origem": {
            "type": "integer",
            "title": "Origem",
            "description": "Origem do registro (1=padrão)",
            "default": 1,
            "example": 1
          },
          "id_origem": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Id Origem"
          },
          "update_db": {
            "type": "boolean",
            "title": "Update Db",
            "description": "Se True, segue lógica de inserir/atualizar/histórico. Se False, apenas busca.",
            "default": true,
            "example": true
          },
          "uuid_cliente": {
            "anyOf": [{ "type": "string", "format": "uuid" }, { "type": "null" }],
            "title": "Uuid Cliente"
          },
          "review": {
            "anyOf": [{ "type": "boolean" }, { "type": "null" }],
            "title": "Review",
            "default": false
          },
          "obs_review": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Obs Review"
          },
          "telefone": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Telefone" },
          "email": {
            "anyOf": [{ "type": "string", "format": "email" }, { "type": "null" }],
            "title": "Email"
          },
          "cep": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cep" },
          "estado": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Estado" },
          "cidade": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cidade" },
          "bairro": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Bairro" },
          "logradouro": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Logradouro"
          },
          "numero": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Numero" },
          "complemento": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Complemento"
          },
          "descricao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Descricao",
            "description": "Descrição do atendimento."
          },
          "data_atendimento": {
            "anyOf": [{ "type": "string", "format": "date-time" }, { "type": "null" }],
            "title": "Data Atendimento",
            "description": "Data do histórico. Se não informada, será usada a data atual."
          }
        },
        "type": "object",
        "required": ["nome"],
        "title": "ClienteSearchGeral",
        "description": "DEPRECATED: Use ClienteSearch diretamente.\nMantido temporariamente para compatibilidade."
      },
      "CompositeSearchRequest": {
        "properties": {
          "cpf": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cpf",
            "description": "CPF com ou sem formatação",
            "example": "123.456.789-10"
          },
          "cns": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cns",
            "description": "Cartão Nacional de Saúde (15 dígitos)",
            "example": "123456789012345"
          },
          "nome": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Nome",
            "description": "Nome completo (será convertido para maiúsculas)",
            "example": "João da Silva Santos"
          },
          "data_nascimento": {
            "anyOf": [
              { "type": "string", "pattern": "^\\d{4}-\\d{2}-\\d{2}$" },
              { "type": "null" }
            ],
            "title": "Data Nascimento",
            "description": "Data de nascimento no formato YYYY-MM-DD",
            "example": "1990-05-15"
          },
          "nome_mae": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Nome Mae",
            "description": "Nome da mãe (será convertido para maiúsculas)",
            "example": "Maria Santos Silva"
          },
          "sexo": {
            "anyOf": [{ "type": "string", "pattern": "^[MmFf]$" }, { "type": "null" }],
            "title": "Sexo",
            "description": "Sexo biológico (M ou F)",
            "example": "M"
          },
          "telefone": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Telefone",
            "description": "Telefone com ou sem formatação",
            "example": "(11) 98765-4321"
          },
          "email": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Email",
            "description": "E-mail para busca (case-insensitive)",
            "example": "joao.silva@email.com"
          }
        },
        "type": "object",
        "title": "CompositeSearchRequest",
        "description": "Request para busca determinística composta com múltiplos campos",
        "examples": [
          { "cpf": "123.456.789-10", "nome": "João da Silva", "title": "Busca por CPF e Nome" },
          {
            "data_nascimento": "1985-03-20",
            "nome": "Maria Santos",
            "nome_mae": "Ana Santos",
            "sexo": "F",
            "title": "Busca por dados pessoais"
          },
          { "cns": "123456789012345", "data_nascimento": "1990-01-01", "title": "Busca por CNS" },
          {
            "email": "pedro@email.com",
            "nome": "Pedro Oliveira",
            "telefone": "11987654321",
            "title": "Busca por contato"
          }
        ]
      },
      "CompositeSearchResponse": {
        "properties": {
          "total_matches": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Matches",
            "description": "Total de registros encontrados"
          },
          "search_mode": {
            "type": "string",
            "title": "Search Mode",
            "description": "Modo de busca usado: strict (AND) ou flexible (OR)"
          },
          "search_info": {
            "$ref": "#/components/schemas/SearchInfo",
            "description": "Informações detalhadas sobre a busca"
          },
          "used_phonetic": {
            "type": "boolean",
            "title": "Used Phonetic",
            "description": "Indica se foi usada busca fonética"
          },
          "results": {
            "items": { "additionalProperties": true, "type": "object" },
            "type": "array",
            "title": "Results",
            "description": "Lista de clientes ordenados por relevância",
            "example": [
              {
                "cpf": "12345678910",
                "data_nascimento": "1990-05-15",
                "id": 123,
                "match_details": {
                  "cpf": "exact",
                  "data_nascimento": "exact",
                  "nome": "phonetic (85%)"
                },
                "nome": "JOÃO DA SILVA SANTOS",
                "score": 180,
                "uuid_cliente": "550e8400-e29b-41d4-a716-446655440000"
              }
            ]
          }
        },
        "type": "object",
        "required": ["total_matches", "search_mode", "search_info", "used_phonetic", "results"],
        "title": "CompositeSearchResponse",
        "description": "Response da busca composta com scoring e metadados",
        "example": {
          "results": [
            {
              "cpf": "12345678910",
              "id": 123,
              "match_details": { "cpf": "exact", "nome": "phonetic (85%)" },
              "nome": "JOÃO DA SILVA SANTOS",
              "score": 180,
              "uuid_cliente": "550e8400-e29b-41d4-a716-446655440000"
            }
          ],
          "search_info": {
            "exact_fields": ["cpf", "data_nascimento"],
            "mode": "strict",
            "phonetic_fields": ["nome"],
            "total_conditions": 3
          },
          "search_mode": "strict",
          "total_matches": 3,
          "used_phonetic": true
        }
      },
      "ConfidenceScore": {
        "properties": {
          "method": {
            "type": "string",
            "enum": [
              "cpf_exact",
              "cns_phonetic",
              "cns_only",
              "composite",
              "name_only",
              "dna_match"
            ],
            "title": "Method"
          },
          "score": { "type": "number", "maximum": 100.0, "minimum": 0.0, "title": "Score" },
          "details": { "additionalProperties": true, "type": "object", "title": "Details" }
        },
        "type": "object",
        "required": ["method", "score"],
        "title": "ConfidenceScore",
        "description": "Score de confiança para cada método",
        "example": {
          "details": {
            "cns_found": true,
            "metaphone_match": true,
            "name_similarity": 0.95,
            "soundex_match": true
          },
          "method": "cns_phonetic",
          "score": 90.0
        }
      },
      "DataQualityAnalysis": {
        "properties": {
          "total_score": { "type": "integer", "title": "Total Score" },
          "field_scores": {
            "additionalProperties": { "type": "integer" },
            "type": "object",
            "title": "Field Scores"
          },
          "recommendations": {
            "items": { "type": "string" },
            "type": "array",
            "title": "Recommendations"
          },
          "estimated_success_rate": { "type": "number", "title": "Estimated Success Rate" },
          "homonym_risk": { "type": "string", "title": "Homonym Risk" },
          "missing_fields": {
            "items": { "type": "string" },
            "type": "array",
            "title": "Missing Fields"
          }
        },
        "type": "object",
        "required": [
          "total_score",
          "field_scores",
          "recommendations",
          "estimated_success_rate",
          "homonym_risk",
          "missing_fields"
        ],
        "title": "DataQualityAnalysis",
        "description": "Análise de qualidade dos dados"
      },
      "DateErrorPattern": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Tipo de erro: digit_swap, year_typo, month_day_swap, etc"
          },
          "original_date": {
            "type": "string",
            "title": "Original Date",
            "description": "Data original fornecida"
          },
          "possible_date": {
            "type": "string",
            "title": "Possible Date",
            "description": "Data corrigida possível"
          },
          "confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence",
            "description": "Confiança na correção (0.0 a 1.0)"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Descrição do erro detectado"
          }
        },
        "type": "object",
        "required": ["type", "original_date", "possible_date", "confidence", "description"],
        "title": "DateErrorPattern",
        "description": "Padrão de erro de data detectado"
      },
      "DateToleranceResponse": {
        "properties": {
          "tolerance_days": {
            "type": "integer",
            "maximum": 365.0,
            "minimum": 0.0,
            "title": "Tolerance Days",
            "description": "Tolerância em dias usada na busca"
          },
          "search_date": {
            "type": "string",
            "title": "Search Date",
            "description": "Data central da busca"
          },
          "date_range": {
            "additionalProperties": { "type": "string" },
            "type": "object",
            "title": "Date Range",
            "description": "Intervalo de datas pesquisado"
          },
          "total_matches": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Matches",
            "description": "Total de registros encontrados"
          },
          "exact_matches": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Exact Matches",
            "description": "Matches com data exata"
          },
          "approximate_matches": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Approximate Matches",
            "description": "Matches com data aproximada"
          },
          "common_errors_checked": {
            "items": { "type": "string" },
            "type": "array",
            "title": "Common Errors Checked",
            "description": "Erros comuns verificados"
          },
          "results": {
            "items": { "$ref": "#/components/schemas/DateToleranceResult" },
            "type": "array",
            "title": "Results",
            "description": "Lista de resultados ordenados por score"
          }
        },
        "type": "object",
        "required": [
          "tolerance_days",
          "search_date",
          "date_range",
          "total_matches",
          "exact_matches",
          "approximate_matches",
          "common_errors_checked",
          "results"
        ],
        "title": "DateToleranceResponse",
        "description": "Response da busca com tolerância de data",
        "example": {
          "approximate_matches": 4,
          "common_errors_checked": ["digit_swap", "year_typo", "month_day_swap"],
          "date_range": { "end": "1990-05-18", "start": "1990-05-12" },
          "exact_matches": 1,
          "results": [
            {
              "cliente": { "data_nascimento": "1990-05-15", "id": 123, "nome": "JOÃO SILVA" },
              "date_proximity_score": 100,
              "days_difference": 0,
              "error_patterns_detected": [],
              "exact_match": true,
              "overall_score": 100
            },
            {
              "cliente": { "data_nascimento": "1990-05-16", "id": 456, "nome": "JOÃO DA SILVA" },
              "date_proximity_score": 80,
              "days_difference": 1,
              "error_patterns_detected": [
                {
                  "confidence": 0.8,
                  "description": "Possível troca de dígitos 5↔6",
                  "original_date": "1990-05-15",
                  "possible_date": "1990-05-16",
                  "type": "digit_swap"
                }
              ],
              "exact_match": false,
              "overall_score": 85
            }
          ],
          "search_date": "1990-05-15",
          "tolerance_days": 3,
          "total_matches": 5
        }
      },
      "DateToleranceResult": {
        "properties": {
          "cliente": {
            "additionalProperties": true,
            "type": "object",
            "title": "Cliente",
            "description": "Dados do cliente encontrado"
          },
          "date_proximity_score": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Date Proximity Score",
            "description": "Score de proximidade da data (0-100)"
          },
          "days_difference": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Days Difference",
            "description": "Diferença em dias da data fornecida"
          },
          "exact_match": {
            "type": "boolean",
            "title": "Exact Match",
            "description": "Se a data é exatamente igual"
          },
          "error_patterns_detected": {
            "items": { "$ref": "#/components/schemas/DateErrorPattern" },
            "type": "array",
            "title": "Error Patterns Detected",
            "description": "Padrões de erro detectados na data"
          },
          "overall_score": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Overall Score",
            "description": "Score geral considerando todos os campos"
          }
        },
        "type": "object",
        "required": [
          "cliente",
          "date_proximity_score",
          "days_difference",
          "exact_match",
          "overall_score"
        ],
        "title": "DateToleranceResult",
        "description": "Resultado individual da busca com tolerância de data"
      },
      "DateToleranceSearchRequest": {
        "properties": {
          "nome": {
            "anyOf": [{ "type": "string", "minLength": 3 }, { "type": "null" }],
            "title": "Nome",
            "description": "Nome completo para filtrar resultados",
            "example": "João Silva"
          },
          "data_nascimento": {
            "type": "string",
            "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
            "title": "Data Nascimento",
            "description": "Data de nascimento central (YYYY-MM-DD)",
            "example": "1990-05-15"
          },
          "nome_mae": {
            "anyOf": [{ "type": "string", "minLength": 3 }, { "type": "null" }],
            "title": "Nome Mae",
            "description": "Nome da mãe para filtrar resultados",
            "example": "Maria Santos"
          },
          "cpf": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cpf",
            "description": "CPF para filtrar resultados",
            "example": "123.456.789-10"
          },
          "sexo": {
            "anyOf": [{ "type": "string", "pattern": "^[MmFf]$" }, { "type": "null" }],
            "title": "Sexo",
            "description": "Sexo para filtrar resultados (M ou F)",
            "example": "M"
          }
        },
        "type": "object",
        "required": ["data_nascimento"],
        "title": "DateToleranceSearchRequest",
        "description": "Request para busca com tolerância de data",
        "examples": [
          {
            "data_nascimento": "1990-05-15",
            "nome": "João Silva",
            "title": "Busca simples com data"
          },
          {
            "cpf": "123.456.789-10",
            "data_nascimento": "1985-03-20",
            "nome": "Maria Santos",
            "nome_mae": "Ana Santos",
            "sexo": "F",
            "title": "Busca completa com filtros"
          }
        ]
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": { "$ref": "#/components/schemas/ValidationError" },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HistoricoClienteCreate": {
        "properties": {
          "uuid_cliente": {
            "type": "string",
            "format": "uuid",
            "title": "Uuid Cliente",
            "description": "UUID do cliente",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "nome": {
            "type": "string",
            "title": "Nome",
            "description": "Nome do cliente",
            "example": "João Silva Santos"
          },
          "data_nascimento": {
            "anyOf": [{ "type": "string", "format": "date" }, { "type": "null" }],
            "title": "Data Nascimento",
            "description": "Data de nascimento",
            "example": "1990-01-15"
          },
          "sexo": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Sexo",
            "description": "Sexo (M/F)",
            "example": "M"
          },
          "nome_mae": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Nome Mae",
            "description": "Nome da mãe",
            "example": "Maria Silva"
          },
          "cpf": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cpf",
            "description": "CPF (apenas números)",
            "example": "12345678901"
          },
          "cns": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cns",
            "description": "CNS (até 15 dígitos)",
            "example": "123456789012345"
          },
          "origem": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Origem",
            "description": "Código da origem dos dados",
            "example": 1
          },
          "id_user": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Id User",
            "description": "ID do usuário que fez a operação",
            "example": 1
          },
          "tipo_operacao": {
            "type": "integer",
            "title": "Tipo Operacao",
            "description": "Tipo de operação (obrigatório no create)",
            "example": 1
          },
          "data_atendimento": {
            "anyOf": [{ "type": "string", "format": "date-time" }, { "type": "null" }],
            "title": "Data Atendimento",
            "description": "Data do atendimento/histórico",
            "example": "2024-01-15T10:30:00"
          },
          "descricao": {
            "anyOf": [{ "type": "string", "maxLength": 1000 }, { "type": "null" }],
            "title": "Descricao",
            "description": "Descrição do histórico",
            "example": "Consulta de rotina"
          },
          "id_origem": {
            "anyOf": [{ "type": "string", "maxLength": 50 }, { "type": "null" }],
            "title": "Id Origem",
            "description": "ID de origem externa",
            "example": "EXT001"
          }
        },
        "type": "object",
        "required": ["uuid_cliente", "nome", "tipo_operacao"],
        "title": "HistoricoClienteCreate"
      },
      "HistoricoClienteResponse": {
        "properties": {
          "uuid_cliente": {
            "type": "string",
            "format": "uuid",
            "title": "Uuid Cliente",
            "description": "UUID do cliente",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "nome": {
            "type": "string",
            "title": "Nome",
            "description": "Nome do cliente",
            "example": "João Silva Santos"
          },
          "data_nascimento": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Data Nascimento",
            "description": "Data de nascimento",
            "example": "1990-01-15"
          },
          "sexo": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Sexo",
            "description": "Sexo (M/F)",
            "example": "M"
          },
          "nome_mae": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Nome Mae",
            "description": "Nome da mãe",
            "example": "Maria Silva"
          },
          "cpf": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cpf",
            "description": "CPF (apenas números)",
            "example": "12345678901"
          },
          "cns": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cns",
            "description": "CNS (até 15 dígitos)",
            "example": "123456789012345"
          },
          "origem": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Origem",
            "description": "Código da origem dos dados",
            "example": 1
          },
          "id_user": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Id User",
            "description": "ID do usuário que fez a operação",
            "example": 1
          },
          "tipo_operacao": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Tipo Operacao",
            "description": "Tipo de operação (1=Inserção, 2=Atualização, 3=Manual)",
            "example": 1
          },
          "data_atendimento": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Data Atendimento",
            "description": "Data do atendimento/histórico",
            "example": "2024-01-15T10:30:00"
          },
          "descricao": {
            "anyOf": [{ "type": "string", "maxLength": 1000 }, { "type": "null" }],
            "title": "Descricao",
            "description": "Descrição do histórico",
            "example": "Consulta de rotina"
          },
          "id_origem": {
            "anyOf": [{ "type": "string", "maxLength": 50 }, { "type": "null" }],
            "title": "Id Origem",
            "description": "ID de origem externa",
            "example": "EXT001"
          },
          "historico_id": {
            "type": "integer",
            "title": "Historico Id",
            "description": "ID único do histórico",
            "example": 1
          },
          "created_at": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Created At",
            "description": "Data de criação do registro",
            "example": "2024-01-15T10:30:00"
          },
          "updated_at": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Updated At",
            "description": "Data da última atualização",
            "example": "2024-01-15T11:30:00"
          }
        },
        "type": "object",
        "required": ["uuid_cliente", "nome", "historico_id", "created_at"],
        "title": "HistoricoClienteResponse"
      },
      "HistoricoClienteUpdate": {
        "properties": {
          "nome": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Nome",
            "description": "Nome do cliente",
            "example": "João Silva Santos"
          },
          "data_nascimento": {
            "anyOf": [{ "type": "string", "format": "date" }, { "type": "null" }],
            "title": "Data Nascimento",
            "description": "Data de nascimento",
            "example": "1990-01-15"
          },
          "sexo": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Sexo",
            "description": "Sexo (M/F)",
            "example": "M"
          },
          "nome_mae": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Nome Mae",
            "description": "Nome da mãe",
            "example": "Maria Silva"
          },
          "cpf": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cpf",
            "description": "CPF (apenas números)",
            "example": "12345678901"
          },
          "cns": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cns",
            "description": "CNS (até 15 dígitos)",
            "example": "123456789012345"
          },
          "origem": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Origem",
            "description": "Código da origem dos dados",
            "example": 1
          },
          "id_user": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Id User",
            "description": "ID do usuário que fez a operação",
            "example": 1
          },
          "tipo_operacao": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Tipo Operacao",
            "description": "Tipo de operação (1=Inserção, 2=Atualização, 3=Manual)",
            "example": 1
          },
          "data_atendimento": {
            "anyOf": [{ "type": "string", "format": "date-time" }, { "type": "null" }],
            "title": "Data Atendimento",
            "description": "Data do atendimento/histórico",
            "example": "2024-01-15T10:30:00"
          },
          "descricao": {
            "anyOf": [{ "type": "string", "maxLength": 1000 }, { "type": "null" }],
            "title": "Descricao",
            "description": "Descrição do histórico",
            "example": "Consulta de rotina"
          },
          "id_origem": {
            "anyOf": [{ "type": "string", "maxLength": 50 }, { "type": "null" }],
            "title": "Id Origem",
            "description": "ID de origem externa",
            "example": "EXT001"
          }
        },
        "type": "object",
        "title": "HistoricoClienteUpdate"
      },
      "HomonymAnalysis": {
        "properties": {
          "potential_homonyms": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Potential Homonyms",
            "description": "Número de possíveis homônimos"
          },
          "resolution_method": {
            "type": "string",
            "title": "Resolution Method",
            "description": "Método usado para resolver: address, phone, email, none"
          },
          "confidence": {
            "type": "string",
            "title": "Confidence",
            "description": "Confiança na resolução: high, medium, low"
          },
          "disambiguation_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Disambiguation Score",
            "description": "Score de desambiguação (0.0-1.0)"
          },
          "details": {
            "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
            "title": "Details",
            "description": "Detalhes da análise"
          }
        },
        "type": "object",
        "required": [
          "potential_homonyms",
          "resolution_method",
          "confidence",
          "disambiguation_score"
        ],
        "title": "HomonymAnalysis",
        "description": "Análise de possíveis homônimos"
      },
      "LoginSchema": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "description": "E-mail cadastrado",
            "example": "example@d2dna.com"
          },
          "password": {
            "type": "string",
            "title": "Password",
            "description": "Sua senha",
            "example": "*********"
          }
        },
        "type": "object",
        "required": ["email", "password"],
        "title": "LoginSchema"
      },
      "LogoutRequest": {
        "properties": { "refresh_token": { "type": "string", "title": "Refresh Token" } },
        "type": "object",
        "required": ["refresh_token"],
        "title": "LogoutRequest"
      },
      "PaginatedResponse_ReviewRelatorioSchema_": {
        "properties": {
          "data": {
            "items": { "$ref": "#/components/schemas/ReviewRelatorioSchema" },
            "type": "array",
            "title": "Data",
            "description": "Lista de itens da página atual"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationMeta",
            "description": "Metadados de paginação"
          }
        },
        "type": "object",
        "required": ["data", "pagination"],
        "title": "PaginatedResponse[ReviewRelatorioSchema]",
        "example": {
          "data": [],
          "pagination": {
            "has_next": true,
            "has_previous": false,
            "limit": 50,
            "next_cursor": "eyJpZCI6MTAwfQ=="
          }
        }
      },
      "PaginatedResponse_ReviewSchema_": {
        "properties": {
          "data": {
            "items": { "$ref": "#/components/schemas/ReviewSchema" },
            "type": "array",
            "title": "Data",
            "description": "Lista de itens da página atual"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationMeta",
            "description": "Metadados de paginação"
          }
        },
        "type": "object",
        "required": ["data", "pagination"],
        "title": "PaginatedResponse[ReviewSchema]",
        "example": {
          "data": [],
          "pagination": {
            "has_next": true,
            "has_previous": false,
            "limit": 50,
            "next_cursor": "eyJpZCI6MTAwfQ=="
          }
        }
      },
      "PaginationMeta": {
        "properties": {
          "next_cursor": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Next Cursor",
            "description": "Cursor opaco para próxima página",
            "example": "eyJpZCI6MTAwfQ=="
          },
          "previous_cursor": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Previous Cursor",
            "description": "Cursor opaco para página anterior",
            "example": "eyJpZCI6NTB9"
          },
          "has_next": {
            "type": "boolean",
            "title": "Has Next",
            "description": "Indica se há próxima página",
            "default": false
          },
          "has_previous": {
            "type": "boolean",
            "title": "Has Previous",
            "description": "Indica se há página anterior",
            "default": false
          },
          "limit": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 1.0,
            "title": "Limit",
            "description": "Número de itens retornados",
            "default": 50
          }
        },
        "type": "object",
        "title": "PaginationMeta",
        "description": "Metadados de paginação cursor-based",
        "example": {
          "has_next": true,
          "has_previous": false,
          "limit": 50,
          "next_cursor": "eyJpZCI6MTAwfQ=="
        }
      },
      "PhoneticMatchDetails": {
        "properties": {
          "field": {
            "type": "string",
            "title": "Field",
            "description": "Campo comparado: nome ou nome_mae"
          },
          "original_value": {
            "type": "string",
            "title": "Original Value",
            "description": "Valor original fornecido"
          },
          "matched_value": {
            "type": "string",
            "title": "Matched Value",
            "description": "Valor encontrado no banco"
          },
          "similarity_score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Similarity Score",
            "description": "Score de similaridade (0.0 a 1.0)"
          },
          "algorithm_matches": {
            "additionalProperties": { "type": "boolean" },
            "type": "object",
            "title": "Algorithm Matches",
            "description": "Quais algoritmos deram match"
          }
        },
        "type": "object",
        "required": [
          "field",
          "original_value",
          "matched_value",
          "similarity_score",
          "algorithm_matches"
        ],
        "title": "PhoneticMatchDetails",
        "description": "Detalhes de match fonético"
      },
      "PhoneticSearchRequest": {
        "properties": {
          "nome": {
            "anyOf": [{ "type": "string", "minLength": 3 }, { "type": "null" }],
            "title": "Nome",
            "description": "Nome para busca fonética (erros de digitação aceitos)",
            "example": "Joao Silva"
          },
          "nome_mae": {
            "anyOf": [{ "type": "string", "minLength": 3 }, { "type": "null" }],
            "title": "Nome Mae",
            "description": "Nome da mãe para busca fonética",
            "example": "Maria Santos"
          },
          "data_nascimento": {
            "anyOf": [
              { "type": "string", "pattern": "^\\d{4}-\\d{2}-\\d{2}$" },
              { "type": "null" }
            ],
            "title": "Data Nascimento",
            "description": "Data de nascimento para filtrar resultados (YYYY-MM-DD)",
            "example": "1990-05-15"
          },
          "sexo": {
            "anyOf": [{ "type": "string", "pattern": "^[MmFf]$" }, { "type": "null" }],
            "title": "Sexo",
            "description": "Sexo para filtrar resultados (M ou F)",
            "example": "M"
          },
          "min_similarity": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Min Similarity",
            "description": "Similaridade mínima para considerar match (0.0 a 1.0)",
            "default": 0.7
          }
        },
        "type": "object",
        "title": "PhoneticSearchRequest",
        "description": "Request para busca fonética probabilística",
        "examples": [
          { "min_similarity": 0.8, "nome": "Joao Silva", "title": "Busca simples por nome" },
          {
            "data_nascimento": "1985-03-20",
            "min_similarity": 0.7,
            "nome": "Maria Santus",
            "nome_mae": "Ana Silve",
            "sexo": "F",
            "title": "Busca completa com filtros"
          }
        ]
      },
      "PhoneticSearchResponse": {
        "properties": {
          "algorithm_used": {
            "type": "string",
            "title": "Algorithm Used",
            "description": "Algoritmos usados: soundex, metaphone, both"
          },
          "total_matches": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Matches",
            "description": "Total de registros encontrados"
          },
          "filtered_matches": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Filtered Matches",
            "description": "Matches após aplicar min_similarity"
          },
          "search_info": {
            "additionalProperties": true,
            "type": "object",
            "title": "Search Info",
            "description": "Informações sobre a busca realizada"
          },
          "results": {
            "items": { "$ref": "#/components/schemas/PhoneticSearchResult" },
            "type": "array",
            "title": "Results",
            "description": "Lista de resultados ordenados por score"
          }
        },
        "type": "object",
        "required": [
          "algorithm_used",
          "total_matches",
          "filtered_matches",
          "search_info",
          "results"
        ],
        "title": "PhoneticSearchResponse",
        "description": "Response da busca fonética",
        "example": {
          "algorithm_used": "both",
          "filtered_matches": 3,
          "results": [
            {
              "cliente": { "cpf": "12345678910", "id": 123, "nome": "JOÃO DA SILVA" },
              "confidence_level": "high",
              "match_details": [
                {
                  "algorithm_matches": { "metaphone": true, "soundex": true },
                  "field": "nome",
                  "matched_value": "JOÃO DA SILVA",
                  "original_value": "Joao Silva",
                  "similarity_score": 0.95
                }
              ],
              "phonetic_score": 95
            }
          ],
          "search_info": {
            "fields_searched": ["nome"],
            "min_similarity_used": 0.7,
            "nome_metaphone": "J",
            "nome_soundex": "J500"
          },
          "total_matches": 5
        }
      },
      "PhoneticSearchResult": {
        "properties": {
          "cliente": {
            "additionalProperties": true,
            "type": "object",
            "title": "Cliente",
            "description": "Dados do cliente encontrado"
          },
          "phonetic_score": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Phonetic Score",
            "description": "Score fonético total (0-100)"
          },
          "match_details": {
            "items": { "$ref": "#/components/schemas/PhoneticMatchDetails" },
            "type": "array",
            "title": "Match Details",
            "description": "Detalhes de cada campo que deu match"
          },
          "confidence_level": {
            "type": "string",
            "title": "Confidence Level",
            "description": "Nível de confiança: high, medium, low"
          }
        },
        "type": "object",
        "required": ["cliente", "phonetic_score", "match_details", "confidence_level"],
        "title": "PhoneticSearchResult",
        "description": "Resultado individual da busca fonética"
      },
      "ReviewCreateSchema": {
        "properties": {
          "uuid_cliente": { "type": "string", "format": "uuid", "title": "Uuid Cliente" },
          "id_revisor": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Id Revisor"
          },
          "acao": { "type": "string", "title": "Acao" },
          "tipo_revisao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Tipo Revisao"
          },
          "observacao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Observacao"
          },
          "status": {
            "type": "string",
            "enum": ["aprovado", "rejeitado", "corrigido"],
            "title": "Status"
          }
        },
        "type": "object",
        "required": ["uuid_cliente", "acao", "status"],
        "title": "ReviewCreateSchema"
      },
      "ReviewRelatorioSchema": {
        "properties": {
          "id": { "type": "integer", "title": "Id" },
          "uuid_cliente": { "type": "string", "format": "uuid", "title": "Uuid Cliente" },
          "id_revisor": { "type": "integer", "title": "Id Revisor" },
          "data_revisao": { "type": "string", "format": "date-time", "title": "Data Revisao" },
          "acao": { "type": "string", "title": "Acao" },
          "tipo_revisao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Tipo Revisao"
          },
          "observacao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Observacao"
          },
          "status": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Status" },
          "nome_cliente": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Nome Cliente"
          }
        },
        "type": "object",
        "required": ["id", "uuid_cliente", "id_revisor", "data_revisao", "acao"],
        "title": "ReviewRelatorioSchema"
      },
      "ReviewSchema": {
        "properties": {
          "id": { "type": "integer", "title": "Id" },
          "uuid_cliente": { "type": "string", "format": "uuid", "title": "Uuid Cliente" },
          "nome": { "type": "string", "title": "Nome" },
          "data_nascimento": {
            "anyOf": [{ "type": "string", "format": "date" }, { "type": "null" }],
            "title": "Data Nascimento"
          },
          "sexo": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Sexo" },
          "nome_mae": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Nome Mae" },
          "cpf": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cpf" },
          "cns": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cns" },
          "origem": { "anyOf": [{ "type": "integer" }, { "type": "null" }], "title": "Origem" },
          "id_origem": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Id Origem"
          },
          "review": { "anyOf": [{ "type": "boolean" }, { "type": "null" }], "title": "Review" },
          "obs_review": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Obs Review"
          },
          "status": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Status" }
        },
        "type": "object",
        "required": ["id", "uuid_cliente", "nome"],
        "title": "ReviewSchema"
      },
      "SearchInfo": {
        "properties": {
          "exact_fields": {
            "items": { "type": "string" },
            "type": "array",
            "title": "Exact Fields",
            "description": "Campos usados para busca exata"
          },
          "phonetic_fields": {
            "items": { "type": "string" },
            "type": "array",
            "title": "Phonetic Fields",
            "description": "Campos usados para busca fonética"
          },
          "mode": {
            "type": "string",
            "title": "Mode",
            "description": "Modo de busca: strict (AND) ou flexible (OR)"
          },
          "total_conditions": {
            "type": "integer",
            "title": "Total Conditions",
            "description": "Total de condições aplicadas na query"
          }
        },
        "type": "object",
        "required": ["mode", "total_conditions"],
        "title": "SearchInfo",
        "description": "Informações sobre a busca realizada"
      },
      "SmartSearchMetadata": {
        "properties": {
          "strategy_used": {
            "type": "string",
            "title": "Strategy Used",
            "description": "Estratégia efetivamente usada"
          },
          "strategy_info": {
            "$ref": "#/components/schemas/StrategyInfo",
            "description": "Detalhes da estratégia"
          },
          "confidence_score": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Confidence Score",
            "description": "Score de confiança (0-315)"
          },
          "confidence_level": {
            "type": "string",
            "title": "Confidence Level",
            "description": "Nível de confiança: Very High, High, Medium, Low"
          },
          "fields_used": {
            "items": { "type": "string" },
            "type": "array",
            "title": "Fields Used",
            "description": "Campos utilizados na busca"
          },
          "execution_time_ms": {
            "type": "number",
            "title": "Execution Time Ms",
            "description": "Tempo de execução em ms"
          },
          "total_matches": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Matches",
            "description": "Total de registros encontrados"
          },
          "cache_hit": {
            "type": "boolean",
            "title": "Cache Hit",
            "description": "Se foi usado cache",
            "default": false
          },
          "homonym_analysis": {
            "anyOf": [{ "$ref": "#/components/schemas/HomonymAnalysis" }, { "type": "null" }],
            "description": "Análise de homônimos se aplicável"
          },
          "performance_metrics": {
            "additionalProperties": true,
            "type": "object",
            "title": "Performance Metrics",
            "description": "Métricas de performance detalhadas"
          }
        },
        "type": "object",
        "required": [
          "strategy_used",
          "strategy_info",
          "confidence_score",
          "confidence_level",
          "fields_used",
          "execution_time_ms",
          "total_matches"
        ],
        "title": "SmartSearchMetadata",
        "description": "Metadados detalhados da busca inteligente"
      },
      "SmartSearchRequest": {
        "properties": {
          "cpf": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cpf",
            "description": "CPF (maior peso no scoring)",
            "example": "123.456.789-10"
          },
          "cns": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cns",
            "description": "CNS - Cartão Nacional de Saúde",
            "example": "123456789012345"
          },
          "nome": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Nome",
            "description": "Nome completo",
            "example": "João da Silva Santos"
          },
          "data_nascimento": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Data Nascimento",
            "description": "Data de nascimento (YYYY-MM-DD)",
            "example": "1990-05-15"
          },
          "nome_mae": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Nome Mae",
            "description": "Nome da mãe (ajuda resolver homônimos)",
            "example": "Maria Santos Silva"
          },
          "sexo": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Sexo",
            "description": "Sexo (M ou F)",
            "example": "M"
          },
          "endereco": {
            "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
            "title": "Endereco",
            "description": "Dados de endereço para resolver homônimos",
            "example": {
              "bairro": "Bela Vista",
              "cep": "01310-100",
              "cidade": "São Paulo",
              "uf": "SP"
            }
          },
          "telefone": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Telefone",
            "description": "Telefone de contato",
            "example": "(11) 98765-4321"
          },
          "email": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Email",
            "description": "E-mail de contato",
            "example": "joao.silva@email.com"
          },
          "origem": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Origem",
            "description": "Sistema de origem do registro",
            "default": 1
          },
          "update_db": {
            "type": "boolean",
            "title": "Update Db",
            "description": "Se True, segue lógica de inserir/atualizar/histórico. Se False, apenas busca.",
            "default": false,
            "example": false
          }
        },
        "type": "object",
        "title": "SmartSearchRequest",
        "description": "Request para busca inteligente com seleção automática de estratégia",
        "examples": [
          {
            "cpf": "123.456.789-10",
            "data_nascimento": "1990-05-15",
            "nome": "João Silva",
            "title": "Busca com alta confiança"
          },
          {
            "cns": "123456789012345",
            "data_nascimento": "1985-03-20",
            "endereco": { "cep": "01310-100", "cidade": "São Paulo" },
            "nome": "Maria Santos",
            "nome_mae": "Ana Santos",
            "sexo": "F",
            "title": "Busca com dados completos"
          },
          { "nome": "Pedro Oliveira", "sexo": "M", "title": "Busca mínima" }
        ]
      },
      "SmartSearchResponse": {
        "properties": {
          "results": {
            "items": { "$ref": "#/components/schemas/SmartSearchResult" },
            "type": "array",
            "title": "Results",
            "description": "Resultados ordenados por relevância"
          },
          "search_metadata": {
            "$ref": "#/components/schemas/SmartSearchMetadata",
            "description": "Metadados detalhados da busca"
          },
          "recommendations": {
            "items": { "type": "string" },
            "type": "array",
            "title": "Recommendations",
            "description": "Recomendações para melhorar resultados"
          }
        },
        "type": "object",
        "required": ["results", "search_metadata"],
        "title": "SmartSearchResponse",
        "description": "Response da busca inteligente com análise completa",
        "example": {
          "recommendations": [
            "Adicione o nome da mãe para evitar homônimos",
            "CNS pode acelerar buscas futuras"
          ],
          "results": [
            {
              "cliente": { "cpf": "12345678910", "id": 123, "nome": "JOÃO DA SILVA" },
              "homonym_probability": 0.05,
              "match_details": { "cpf": "exact", "data_nascimento": "exact", "nome": "exact" },
              "match_score": 95
            }
          ],
          "search_metadata": {
            "cache_hit": false,
            "confidence_level": "High",
            "confidence_score": 180,
            "execution_time_ms": 15.5,
            "fields_used": ["cpf", "nome", "data_nascimento"],
            "performance_metrics": {
              "db_execution_time": 12.1,
              "post_processing_time": 1.1,
              "query_build_time": 2.3
            },
            "strategy_info": {
              "alternatives": [{ "score": 100, "strategy": "DIRECT_CPF" }],
              "optimization_hints": ["Adicionar nome da mãe aumentaria precisão"],
              "reason": "Múltiplos campos com índices disponíveis",
              "score_breakdown": { "cpf": 100, "data_nascimento": 50, "nome": 30 },
              "strategy": "COMPOSITE_INDEX"
            },
            "strategy_used": "COMPOSITE_INDEX",
            "total_matches": 1
          }
        }
      },
      "SmartSearchResult": {
        "properties": {
          "cliente": {
            "additionalProperties": true,
            "type": "object",
            "title": "Cliente",
            "description": "Dados do cliente"
          },
          "match_score": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Match Score",
            "description": "Score de match (0-100)"
          },
          "match_details": {
            "additionalProperties": { "type": "string" },
            "type": "object",
            "title": "Match Details",
            "description": "Detalhes de como cada campo deu match"
          },
          "homonym_probability": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Homonym Probability",
            "description": "Probabilidade de ser homônimo (0.0-1.0)"
          },
          "disambiguation_info": {
            "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
            "title": "Disambiguation Info",
            "description": "Informações usadas para desambiguação"
          }
        },
        "type": "object",
        "required": ["cliente", "match_score", "match_details", "homonym_probability"],
        "title": "SmartSearchResult",
        "description": "Resultado individual com scoring e detalhes"
      },
      "StrategyInfo": {
        "properties": {
          "strategy": {
            "type": "string",
            "title": "Strategy",
            "description": "Estratégia selecionada"
          },
          "reason": { "type": "string", "title": "Reason", "description": "Motivo da seleção" },
          "score_breakdown": {
            "additionalProperties": { "type": "integer" },
            "type": "object",
            "title": "Score Breakdown",
            "description": "Pontuação por campo"
          },
          "alternatives": {
            "items": { "additionalProperties": true, "type": "object" },
            "type": "array",
            "title": "Alternatives",
            "description": "Estratégias alternativas consideradas"
          },
          "optimization_hints": {
            "items": { "type": "string" },
            "type": "array",
            "title": "Optimization Hints",
            "description": "Dicas para otimizar a busca"
          }
        },
        "type": "object",
        "required": ["strategy", "reason", "score_breakdown"],
        "title": "StrategyInfo",
        "description": "Informações sobre a estratégia selecionada"
      },
      "TucuxiV2Request": {
        "properties": {
          "nome": {
            "type": "string",
            "minLength": 2,
            "title": "Nome",
            "description": "Nome completo do cliente"
          },
          "data_nascimento": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Data Nascimento",
            "description": "Data de nascimento (YYYY-MM-DD)"
          },
          "nome_mae": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Nome Mae",
            "description": "Nome da mãe"
          },
          "cpf": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cpf",
            "description": "CPF (apenas números)"
          },
          "cns": {
            "anyOf": [
              { "items": { "type": "string" }, "type": "array" },
              { "type": "string" },
              { "type": "null" }
            ],
            "title": "Cns",
            "description": "Lista de CNS ou string separada por ;"
          },
          "sexo": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Sexo",
            "description": "Sexo (M/F)"
          },
          "origem": {
            "type": "integer",
            "title": "Origem",
            "description": "Sistema de origem",
            "default": 1
          },
          "id_origem": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Id Origem",
            "description": "ID de origem do registro"
          },
          "confidence_threshold": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Confidence Threshold",
            "description": "Limiar de confiança para usar DNA (0-100)",
            "default": 80
          },
          "max_response_time": {
            "type": "integer",
            "maximum": 1000.0,
            "minimum": 10.0,
            "title": "Max Response Time",
            "description": "Timeout máximo em ms",
            "default": 50
          },
          "update_db": {
            "type": "boolean",
            "title": "Update Db",
            "description": "Atualizar banco de dados com resultado",
            "default": true
          },
          "return_all_scores": {
            "type": "boolean",
            "title": "Return All Scores",
            "description": "Retornar scores de todos os métodos testados",
            "default": false
          }
        },
        "type": "object",
        "required": ["nome"],
        "title": "TucuxiV2Request",
        "description": "Request para o endpoint híbrido Tucuxi v2"
      },
      "TucuxiV2Response": {
        "properties": {
          "status": {
            "type": "string",
            "enum": ["success", "not_found", "error"],
            "title": "Status"
          },
          "method": {
            "type": "string",
            "title": "Method",
            "description": "Método que retornou o resultado"
          },
          "confidence": {
            "type": "number",
            "title": "Confidence",
            "description": "Score de confiança final"
          },
          "data": {
            "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
            "title": "Data",
            "description": "Dados do cliente encontrado"
          },
          "response_time": {
            "type": "number",
            "title": "Response Time",
            "description": "Tempo total de resposta em ms"
          },
          "smart_search_score": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Smart Search Score",
            "description": "Score do Smart Search (se executado)"
          },
          "dna_search_score": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Dna Search Score",
            "description": "Score do Tucuxi DNA (se executado)"
          },
          "phonetic_validation": {
            "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
            "title": "Phonetic Validation",
            "description": "Detalhes da validação fonética (se CNS usado)"
          },
          "all_scores": {
            "anyOf": [
              { "items": { "$ref": "#/components/schemas/ConfidenceScore" }, "type": "array" },
              { "type": "null" }
            ],
            "title": "All Scores",
            "description": "Todos os scores calculados (se solicitado)"
          },
          "reason": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Reason",
            "description": "Razão para usar DNA (se aplicável)"
          },
          "message": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Message",
            "description": "Mensagem de status (Status 1/2/3 quando update_db=true)"
          },
          "from_cache": {
            "type": "boolean",
            "title": "From Cache",
            "description": "Se o resultado veio do cache",
            "default": false
          },
          "dna_created": {
            "anyOf": [{ "type": "boolean" }, { "type": "null" }],
            "title": "Dna Created",
            "description": "Se foi criado DNA para este registro"
          },
          "dna_reason": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Dna Reason",
            "description": "Razão para criação do DNA (no_identifier, random_5_percent, etc)"
          },
          "validation_performed": {
            "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }],
            "title": "Validation Performed",
            "description": "Informações sobre validações de identificadores realizadas"
          },
          "created_at": { "type": "string", "format": "date-time", "title": "Created At" },
          "version": {
            "type": "string",
            "title": "Version",
            "description": "Versão do Tucuxi",
            "default": "2.0"
          }
        },
        "type": "object",
        "required": ["status", "method", "confidence", "response_time"],
        "title": "TucuxiV2Response",
        "description": "Response do endpoint híbrido Tucuxi v2",
        "example": {
          "confidence": 90.0,
          "created_at": "2025-01-10T10:30:00",
          "data": {
            "cns": ["123456789012345"],
            "cpf": "12345678901",
            "data_nascimento": "1990-01-01",
            "nome": "JOSE SILVA",
            "nome_mae": "MARIA SILVA",
            "uuid": "123e4567-e89b-12d3-a456-426614174000"
          },
          "method": "cns_phonetic_match",
          "phonetic_validation": {
            "metaphone_match": true,
            "name_similarity": 0.95,
            "soundex_match": true
          },
          "response_time": 15.5,
          "status": "success",
          "version": "2.0"
        }
      },
      "UsuarioLogadoSchema": {
        "properties": {
          "id": { "type": "integer", "title": "Id" },
          "nome": { "type": "string", "title": "Nome" },
          "email": { "type": "string", "format": "email", "title": "Email" },
          "admin": { "type": "boolean", "title": "Admin", "default": false },
          "telefone": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Telefone" },
          "estado": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Estado" },
          "cidade": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cidade" },
          "funcao": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Funcao" },
          "instituicao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Instituicao"
          },
          "foto_perfil": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Foto Perfil"
          }
        },
        "type": "object",
        "required": ["id", "nome", "email"],
        "title": "UsuarioLogadoSchema"
      },
      "UsuarioSchemaBaseWithID": {
        "properties": {
          "nome": { "type": "string", "title": "Nome" },
          "email": { "type": "string", "format": "email", "title": "Email" },
          "admin": { "type": "boolean", "title": "Admin", "default": false },
          "ativo": { "type": "boolean", "title": "Ativo", "default": true },
          "telefone": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Telefone",
            "description": "Telefone no formato (99) 99999-9999"
          },
          "estado": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Estado",
            "description": "Estado (UF)",
            "example": "SP"
          },
          "cidade": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cidade" },
          "foto_perfil": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Foto Perfil",
            "description": "URL da foto de perfil"
          },
          "funcao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Funcao",
            "example": "gestor"
          },
          "instituicao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Instituicao",
            "example": "Instituto de Pesquisa X"
          },
          "id": { "type": "integer", "title": "Id" }
        },
        "type": "object",
        "required": ["nome", "email", "id"],
        "title": "UsuarioSchemaBaseWithID"
      },
      "UsuarioSchemaCreate": {
        "properties": {
          "nome": { "type": "string", "title": "Nome" },
          "email": { "type": "string", "format": "email", "title": "Email" },
          "admin": { "type": "boolean", "title": "Admin", "default": false },
          "ativo": { "type": "boolean", "title": "Ativo", "default": true },
          "telefone": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Telefone",
            "description": "Telefone no formato (99) 99999-9999"
          },
          "estado": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Estado",
            "description": "Estado (UF)",
            "example": "SP"
          },
          "cidade": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cidade" },
          "foto_perfil": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Foto Perfil",
            "description": "URL da foto de perfil"
          },
          "funcao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Funcao",
            "example": "gestor"
          },
          "instituicao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Instituicao",
            "example": "Instituto de Pesquisa X"
          },
          "senha": {
            "type": "string",
            "title": "Senha",
            "description": "A senha deve ter pelo menos 8 caracteres, incluir pelo menos uma letra maiúscula, uma letra minúscula, um número e um caractere especial."
          },
          "master_key": {
            "type": "string",
            "title": "Master Key",
            "description": "Chave mestre para criar usuários",
            "example": "sua_chave_mestre_da_api"
          }
        },
        "type": "object",
        "required": ["nome", "email", "senha", "master_key"],
        "title": "UsuarioSchemaCreate"
      },
      "UsuarioSchemaDetalhes": {
        "properties": {
          "id": { "type": "integer", "title": "Id" },
          "nome": { "type": "string", "title": "Nome" },
          "email": { "type": "string", "format": "email", "title": "Email" },
          "admin": { "type": "boolean", "title": "Admin", "default": false },
          "ativo": { "type": "boolean", "title": "Ativo", "default": true },
          "telefone": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Telefone",
            "description": "Telefone no formato (99) 99999-9999"
          },
          "estado": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Estado",
            "description": "Estado (UF)",
            "example": "SP"
          },
          "cidade": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cidade" },
          "foto_perfil": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Foto Perfil",
            "description": "URL da foto de perfil"
          },
          "funcao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Funcao",
            "example": "gestor"
          },
          "instituicao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Instituicao",
            "example": "Instituto de Pesquisa X"
          },
          "desativado_em": {
            "anyOf": [{ "type": "string", "format": "date-time" }, { "type": "null" }],
            "title": "Desativado Em"
          },
          "ultimo_login": {
            "anyOf": [{ "type": "string", "format": "date-time" }, { "type": "null" }],
            "title": "Ultimo Login"
          },
          "criado_por_id": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Criado Por Id"
          },
          "atualizado_por_id": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Atualizado Por Id"
          },
          "created_at": {
            "anyOf": [{ "type": "string", "format": "date-time" }, { "type": "null" }],
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [{ "type": "string", "format": "date-time" }, { "type": "null" }],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": ["id", "nome", "email"],
        "title": "UsuarioSchemaDetalhes"
      },
      "UsuarioSchemaList": {
        "properties": {
          "id": { "type": "integer", "title": "Id" },
          "nome": { "type": "string", "title": "Nome" },
          "email": { "type": "string", "format": "email", "title": "Email" },
          "admin": { "type": "boolean", "title": "Admin", "default": false },
          "ativo": { "type": "boolean", "title": "Ativo", "default": true },
          "telefone": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Telefone",
            "description": "Telefone no formato (99) 99999-9999"
          },
          "estado": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Estado",
            "description": "Estado (UF)",
            "example": "SP"
          },
          "cidade": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cidade" },
          "foto_perfil": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Foto Perfil",
            "description": "URL da foto de perfil"
          },
          "funcao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Funcao",
            "example": "gestor"
          },
          "instituicao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Instituicao",
            "example": "Instituto de Pesquisa X"
          },
          "desativado_em": {
            "anyOf": [{ "type": "string", "format": "date-time" }, { "type": "null" }],
            "title": "Desativado Em"
          },
          "ultimo_login": {
            "anyOf": [{ "type": "string", "format": "date-time" }, { "type": "null" }],
            "title": "Ultimo Login"
          }
        },
        "type": "object",
        "required": ["id", "nome", "email"],
        "title": "UsuarioSchemaList"
      },
      "UsuarioSchemaUpdate": {
        "properties": {
          "nome": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Nome" },
          "email": {
            "anyOf": [{ "type": "string", "format": "email" }, { "type": "null" }],
            "title": "Email"
          },
          "admin": { "anyOf": [{ "type": "boolean" }, { "type": "null" }], "title": "Admin" },
          "ativo": { "anyOf": [{ "type": "boolean" }, { "type": "null" }], "title": "Ativo" },
          "telefone": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Telefone",
            "description": "Telefone no formato (99) 99999-9999"
          },
          "estado": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Estado",
            "description": "Estado (UF)",
            "example": "SP"
          },
          "cidade": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cidade" },
          "foto_perfil": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Foto Perfil",
            "description": "URL da foto de perfil"
          },
          "funcao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Funcao",
            "example": "gestor"
          },
          "instituicao": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Instituicao",
            "example": "Instituto de Pesquisa X"
          },
          "senha": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Senha" }
        },
        "type": "object",
        "title": "UsuarioSchemaUpdate"
      },
      "UsuarioStatusUpdate": {
        "properties": {
          "ativo": {
            "type": "boolean",
            "title": "Ativo",
            "description": "Define se o usuário está ativo (true) ou inativo/desativado (false)",
            "example": true
          }
        },
        "type": "object",
        "required": ["ativo"],
        "title": "UsuarioStatusUpdate",
        "description": "Schema para atualização unificada de status do usuário",
        "examples": [{ "ativo": true }, { "ativo": false }]
      },
      "UsuariosPaginadosCursorSchema": {
        "properties": {
          "data": {
            "items": { "$ref": "#/components/schemas/UsuarioSchemaList" },
            "type": "array",
            "title": "Data",
            "description": "Lista de itens da página atual"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationMeta",
            "description": "Metadados de paginação"
          }
        },
        "type": "object",
        "required": ["data", "pagination"],
        "title": "UsuariosPaginadosCursorSchema",
        "description": "Response paginado com cursor para listagem de usuários\nPerformance O(1) para qualquer volume de dados",
        "example": {
          "data": [],
          "pagination": {
            "has_next": true,
            "has_previous": false,
            "limit": 50,
            "next_cursor": "eyJpZCI6MTAwfQ=="
          }
        }
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": { "anyOf": [{ "type": "string" }, { "type": "integer" }] },
            "type": "array",
            "title": "Location"
          },
          "msg": { "type": "string", "title": "Message" },
          "type": { "type": "string", "title": "Error Type" }
        },
        "type": "object",
        "required": ["loc", "msg", "type"],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "OAuth2PasswordBearer": {
        "type": "oauth2",
        "flows": { "password": { "scopes": {}, "tokenUrl": "/api/v1/usuarios/login_sw" } }
      },
      "HTTPBearer": { "type": "http", "scheme": "bearer" }
    }
  },
  "tags": [
    {
      "name": "D2|DNA",
      "description": "Transformando dados em informação\n            <br>\n            <img src='/static/images/logo.png' alt='D2DNA Logo' width='200'/>\n            Inovação especializada na integração de bases de dados por meio de técnicas avançadas de bioinformática. \n            Nossa abordagem única converte registros em sequências de DNA in silico, permitindo a identificação \n            precisa de similaridades e a resolução eficaz de problemas comuns, como erros de digitação, fonéticos e ortográficos.",
      "externalDocs": {
        "description": "Visite a D2DNA para mais informações.",
        "url": "https://d2dna.com/"
      }
    }
  ]
}
